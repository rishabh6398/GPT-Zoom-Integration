module.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=66)}([function(t,e,n){(function(o){var r,i,s;i=[n(72),n(79)],void 0===(s="function"==typeof(r=function(t,e){"use strict";var r=function(){this.basePath="https://api.symbl.ai".replace(/\/+$/,""),this.authentications={jwt:{type:"apiKey",in:"header",name:"X-API-KEY"}},this.defaultHeaders={},this.timeout=6e4,this.cache=!0,this.enableCookies=!1,"undefined"==typeof window&&(this.agent=new t.agent),this.requestAgent=null};return r.prototype.paramToString=function(t){return null==t||null==t?"":t instanceof Date?t.toJSON():t.toString()},r.prototype.buildUrl=function(t,e){t.match(/^\//)||(t="/"+t);var n=this.basePath+t,o=this;return n=n.replace(/\{([\w-]+)\}/g,(function(t,n){var r;return r=e.hasOwnProperty(n)?o.paramToString(e[n]):t,encodeURIComponent(r)}))},r.prototype.isJsonMime=function(t){return Boolean(null!=t&&t.match(/^application\/json(;.*)?$/i))},r.prototype.jsonPreferredMime=function(t){for(var e=0;e<t.length;e++)if(this.isJsonMime(t[e]))return t[e];return t[0]},r.prototype.isFileParam=function(t){var e;try{e=n(!function(){var t=new Error("Cannot find module 'fs'");throw t.code="MODULE_NOT_FOUND",t}())}catch(t){}return!!(e&&e.ReadStream&&t instanceof e.ReadStream)||"function"==typeof o&&t instanceof o||"function"==typeof Blob&&t instanceof Blob||"function"==typeof File&&t instanceof File},r.prototype.normalizeParams=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)&&null!=t[n]&&null!=t[n]){var o=t[n];this.isFileParam(o)||Array.isArray(o)?e[n]=o:e[n]=this.paramToString(o)}return e},r.CollectionFormatEnum={CSV:",",SSV:" ",TSV:"\t",PIPES:"|",MULTI:"multi"},r.prototype.buildCollectionParam=function(t,e){if(null==t)return null;switch(e){case"csv":return t.map(this.paramToString).join(",");case"ssv":return t.map(this.paramToString).join(" ");case"tsv":return t.map(this.paramToString).join("\t");case"pipes":return t.map(this.paramToString).join("|");case"multi":return t.map(this.paramToString);default:throw new Error("Unknown collection format: "+e)}},r.prototype.applyAuthToRequest=function(t,e){var n=this;e.forEach((function(e){var o=n.authentications[e];switch(o.type){case"basic":(o.username||o.password)&&t.auth(o.username||"",o.password||"");break;case"apiKey":if(o.apiKey){var r={};o.apiKeyPrefix?r[o.name]=o.apiKeyPrefix+" "+o.apiKey:r[o.name]=o.apiKey,"header"===o.in?t.set(r):t.query(r)}break;case"oauth2":o.accessToken&&t.set({Authorization:"Bearer "+o.accessToken});break;default:throw new Error("Unknown authentication type: "+o.type)}}))},r.prototype.deserialize=function(t,e){if(null==t||null==e||204==t.status)return null;var n=t.body;return(null==n||"object"==typeof n&&void 0===n.length&&!Object.keys(n).length)&&(n=t.text),r.convertToType(n,e)},r.prototype.callApi=function(n,o,r,i,s,a,c,u,p,l,h,f,d){var y=this,v=this.buildUrl(n,r),g=t(o,v);for(var m in this.applyAuthToRequest(g,p),s)if(s.hasOwnProperty(m)){var w=s[m];if("csv"===w.collectionFormat){if(null!=w.value){var b=w.value.map(this.paramToString).map(encodeURIComponent).join(",");g.query(encodeURIComponent(m)+"="+b)}}else i[m]=this.buildCollectionParam(w.value,w.collectionFormat)}"GET"===o.toUpperCase()&&!1===this.cache&&(i._=(new Date).getTime()),g.query(this.normalizeParams(i)),g.set(this.defaultHeaders).set(this.normalizeParams(a)),this.requestAgent&&g.agent(this.requestAgent),g.timeout(this.timeout);var T=this.jsonPreferredMime(l);if(T?"multipart/form-data"!=T&&g.type(T):g.header["Content-Type"]||g.type("application/json"),"application/x-www-form-urlencoded"===T)g.send(e.stringify(this.normalizeParams(c)));else if("multipart/form-data"==T){var S=this.normalizeParams(c);for(var m in S)S.hasOwnProperty(m)&&(this.isFileParam(S[m])?g.attach(m,S[m]):g.field(m,S[m]))}else u&&g.send(u);var k=this.jsonPreferredMime(h);return k&&g.accept(k),"Blob"===f?g.responseType("blob"):"String"===f&&g.responseType("string"),this.enableCookies&&("undefined"==typeof window?this.agent.attachCookies(g):g.withCredentials()),g.end((function(t,e){if(d){var n=null;if(!t)try{n=y.deserialize(e,f),y.enableCookies&&"undefined"==typeof window&&y.agent.saveCookies(e)}catch(e){t=e}d(t,n,e)}})),g},r.parseDate=function(t){return new Date(t.replace(/T/i," "))},r.convertToType=function(t,e){if(null==t)return t;switch(e){case"Boolean":return Boolean(t);case"Integer":return parseInt(t,10);case"Number":return parseFloat(t);case"String":return String(t);case"Date":return this.parseDate(String(t));case"Blob":return t;default:if(e===Object)return t;if("function"==typeof e)return e.constructFromObject(t);if(Array.isArray(e)){var n=e[0];return t.map((function(t){return r.convertToType(t,n)}))}if("object"==typeof e){var o,i;for(var s in e)if(e.hasOwnProperty(s)){o=s,i=e[s];break}var a={};for(var s in t)if(t.hasOwnProperty(s)){var c=r.convertToType(s,o),u=r.convertToType(t[s],i);a[c]=u}return a}return t}},r.constructFromObject=function(t,e,n){if(Array.isArray(t))for(var o=0;o<t.length;o++)t.hasOwnProperty(o)&&(e[o]=r.convertToType(t[o],n));else for(var i in t)t.hasOwnProperty(i)&&(e[i]=r.convertToType(t[i],n))},r.instance=new r,r})?r.apply(e,i):r)||(t.exports=s)}).call(this,n(27).Buffer)},function(t,e,n){"use strict";(function(t){var o=Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]},r=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.Logger=void 0;var a=i(n(100)),c=s(n(25)),u=function(){function e(){this.initializeLogger(),this.trace=this.trace.bind(this),this.debug=this.debug.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}return e.prototype.initializeLogger=function(){c.default?t.clientSdkLogger?this.logger=t.clientSdkLogger:(this.logger=a,t.clientSdkLogger=this.logger):"undefined"!=typeof window?window.clientSdkLogger?this.logger=window.clientSdkLogger:(this.logger=a,window.clientSdkLogger=this.logger):this.logger=a},e.prototype.setLevel=function(t){this.logger.setLevel.apply(null,[t])},e.prototype.getLevel=function(){return this.logger.getLevel.apply(null,[])},e.prototype.setDefaultLevel=function(t){this.logger.setDefaultLevel.apply(null,[t])},e.prototype.trace=function(t,e){void 0===e&&(e={}),this.logger.trace.apply(null,[t,e])},e.prototype.debug=function(t,e){void 0===e&&(e={}),this.logger.debug.apply(null,[t,e])},e.prototype.log=function(t,e){void 0===e&&(e={}),this.logger.log.apply(null,[t,e])},e.prototype.info=function(t,e){void 0===e&&(e={}),this.logger.info.apply(null,[t,e])},e.prototype.warn=function(t,e){void 0===e&&(e={}),this.logger.warn.apply(null,[t,e])},e.prototype.error=function(t,e){void 0===e&&(e={}),this.logger.error.apply(null,[t,e])},e}();e.Logger=u;var p=new u;p.setDefaultLevel("warn"),e.default=p}).call(this,n(4))},function(t,e,n){var o,r,i;r=[n(0),n(30)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("text")&&(r.text=t.convertToType(o.text,"String")),o.hasOwnProperty("beginOffset")&&(r.beginOffset=t.convertToType(o.beginOffset,"Number")),o.hasOwnProperty("value")&&(r.value=e.constructFromObject(o.value))),r},n.prototype.type=void 0,n.prototype.text=void 0,n.prototype.beginOffset=void 0,n.prototype.value=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(32),n(3)],void 0===(i="function"==typeof(o=function(t,e,n){"use strict";var o=function(t,e){this.name=t,this.userId=e};return o.constructFromObject=function(r,i){return r&&(i=i||new o,r.hasOwnProperty("id")&&(i.id=t.convertToType(r.id,"String")),r.hasOwnProperty("name")&&(i.name=t.convertToType(r.name,"String")),r.hasOwnProperty("userId")&&(i.userId=t.convertToType(r.userId,"String")),r.hasOwnProperty("preferredGender")&&(i.preferredGender=t.convertToType(r.preferredGender,"String")),r.hasOwnProperty("role")&&(i.role=t.convertToType(r.role,"String")),r.hasOwnProperty("avatar")&&(i.avatar=e.constructFromObject(r.avatar)),r.hasOwnProperty("additionalUsers")&&(i.additionalUsers=t.convertToType(r.additionalUsers,[n]))),i},o.prototype.id=void 0,o.prototype.name=void 0,o.prototype.userId=void 0,o.prototype.preferredGender=void 0,o.prototype.role=void 0,o.prototype.avatar=void 0,o.prototype.additionalUsers=void 0,o.PreferredGenderEnum={male:"male",female:"female",unknown:"unknown"},o})?o.apply(e,r):o)||(t.exports=i)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("name")&&(o.name=t.convertToType(n.name,"String")),n.hasOwnProperty("email")&&(o.email=t.convertToType(n.email,"String")),n.hasOwnProperty("phone")&&(o.phone=t.convertToType(n.phone,"String"))),o},e.prototype.name=void 0,e.prototype.email=void 0,e.prototype.phone=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("code")&&(o.code=t.convertToType(n.code,"String")),n.hasOwnProperty("message")&&(o.message=t.convertToType(n.message,"String")),n.hasOwnProperty("url")&&(o.url=t.convertToType(n.url,"String"))),o},e.prototype.code=void 0,e.prototype.message=void 0,e.prototype.url=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(28),n(10),n(31),n(32),n(33),n(34),n(29),n(35),n(36),n(37),n(38),n(39),n(40),n(11),n(41),n(42),n(49),n(43),n(6),n(51),n(13),n(52),n(53),n(54),n(14),n(15),n(17),n(55),n(57),n(47),n(19),n(48),n(44),n(20),n(5),n(18),n(21),n(16),n(56),n(22),n(58),n(59),n(12),n(46),n(50),n(2),n(45),n(60),n(23),n(3),n(30),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94)],void 0===(i="function"==typeof(o=function(t,e,n,o,r,i,s,a,c,u,p,l,h,f,d,y,v,g,m,w,b,T,S,k,_,O,I,C,P,E,R,x,A,j,q,M,U,F,B,D,L,N,W,z,Y,G,H,J,K,Q,X,$,V,Z,tt,et,nt,ot,rt,it,st,at,ct,ut,pt){"use strict";return{ApiClient:t,Action:e,ActionItemListResponse:n,AudioConfig:o,Avatar:r,ChannelTrunc:i,Conversation:s,ConversationActionItem:a,ConversationFollowUp:c,ConversationInsightItem:u,ConversationIntent:p,ConversationMessage:l,ConversationQuestion:h,ConversationTopic:f,DueBy:d,Endpoint:y,EndpointConnectRequest:v,EndpointConnectResponse:g,EndpointRequestData:m,Error:w,ExternalEvent:b,FollowUpListResponse:T,Grant:S,Hint:k,InsightConfig:_,InsightItem:O,InsightType:I,InsightsListResponse:C,InsightsRequest:P,InsightsResponse:E,Intent:R,IntentListResponse:x,Language:A,LocationTrunc:j,MemberListResponse:q,MembersInfo:M,Message:U,MessageListResponse:F,Metadata:B,Payload:D,QuestionListResponse:L,RefreshTokenRequest:N,RevokeTokenRequest:W,SessionTrunc:z,SessionUser:Y,SummaryInfo:G,Tag:H,TimeZone:J,Token:K,TopicListResponse:Q,UserTrunc:X,Value:$,ActionItemsApi:V,AuthenticationApi:Z,ConnectionToEndpointApi:tt,ConversationsApi:et,ExternalEventWebHookApi:nt,FollowUpsApi:ot,InsightsApi:rt,IntentsApi:it,LanguageInsightsApi:st,MembersApi:at,MessagesApi:ct,QuestionsApi:ut,TopicsApi:pt}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){"use strict";e.__esModule=!0,e.default={authBasePath:"https://api.symbl.ai",basePath:"https://api.symbl.ai"}},function(t,e){t.exports=function(t){return null!==t&&"object"==typeof t}},function(t,e,n){var o,r,i;r=[n(0),n(29)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.actionItems=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("actionItems")&&(r.actionItems=t.convertToType(o.actionItems,[e]))),r},n.prototype.actionItems=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("value")&&(o.value=t.convertToType(n.value,"Date")),n.hasOwnProperty("start")&&(o.start=t.convertToType(n.start,"Date")),n.hasOwnProperty("end")&&(o.end=t.convertToType(n.end,"Date"))),o},e.prototype.value=void 0,e.prototype.start=void 0,e.prototype.end=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(44),n(46)],void 0===(i="function"==typeof(o=function(t,e,n){"use strict";var o=function(){};return o.constructFromObject=function(r,i){return r&&(i=i||new o,r.hasOwnProperty("id")&&(i.id=t.convertToType(r.id,"String")),r.hasOwnProperty("name")&&(i.name=t.convertToType(r.name,"String")),r.hasOwnProperty("type")&&(i.type=t.convertToType(r.type,"String")),r.hasOwnProperty("users")&&(i.users=t.convertToType(r.users,[n])),r.hasOwnProperty("location")&&(i.location=e.constructFromObject(r.location))),i},o.prototype.id=void 0,o.prototype.name=void 0,o.prototype.type=void 0,o.prototype.users=void 0,o.prototype.location=void 0,o})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(35)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.followUps=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("followUps")&&(r.followUps=t.convertToType(o.followUps,[e]))),r},n.prototype.followUps=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(11),n(53),n(15),n(16),n(2),n(3)],void 0===(i="function"==typeof(o=function(t,e,n,o,r,i,s){"use strict";var a=function(){};return a.constructFromObject=function(c,u){return c&&(u=u||new a,c.hasOwnProperty("type")&&(u.type=o.constructFromObject(c.type)),c.hasOwnProperty("text")&&(u.text=t.convertToType(c.text,"String")),c.hasOwnProperty("confidence")&&(u.confidence=t.convertToType(c.confidence,"Number")),c.hasOwnProperty("hints")&&(u.hints=t.convertToType(c.hints,[n])),c.hasOwnProperty("tags")&&(u.tags=t.convertToType(c.tags,[i])),c.hasOwnProperty("from")&&(u.from=s.constructFromObject(c.from)),c.hasOwnProperty("metadata")&&(u.metadata=r.constructFromObject(c.metadata)),c.hasOwnProperty("assignee")&&(u.assignee=s.constructFromObject(c.assignee)),c.hasOwnProperty("dueBy")&&(u.dueBy=e.constructFromObject(c.dueBy))),u},a.prototype.type=void 0,a.prototype.text=void 0,a.prototype.confidence=void 0,a.prototype.hints=void 0,a.prototype.tags=void 0,a.prototype.from=void 0,a.prototype.metadata=void 0,a.prototype.assignee=void 0,a.prototype.dueBy=void 0,a})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e={action_item:"action_item",idea:"idea",event:"event",information:"information",follow_up:"follow_up",decision:"decision",question:"question",topic:"topic",intent:"intent",constructFromObject:function(t){return t}};return e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(14),n(2)],void 0===(i="function"==typeof(o=function(t,e,n){"use strict";var o=function(){return this};return o.constructFromObject=function(r,i){return r&&(i=i||new o,t.constructFromObject(r,i,"Object"),r.hasOwnProperty("timezoneOffset")&&(i.timezoneOffset=t.convertToType(r.timezoneOffset,"Number")),r.hasOwnProperty("originalMessageId")&&(i.originalMessageId=t.convertToType(r.originalMessageId,"String")),r.hasOwnProperty("originalContent")&&(i.originalContent=t.convertToType(r.originalContent,"String")),r.hasOwnProperty("words")&&(i.words=t.convertToType(r.words,"String")),r.hasOwnProperty("entities")&&(i.entities=t.convertToType(r.entities,[n])),r.hasOwnProperty("disablePunctuation")&&(i.disablePunctuation=t.convertToType(r.disablePunctuation,"Boolean")),r.hasOwnProperty("insight_items")&&(i.insight_items=t.convertToType(r.insight_items,[e]))),i},o.prototype.timezoneOffset=void 0,o.prototype.originalMessageId=void 0,o.prototype.originalContent=void 0,o.prototype.words=void 0,o.prototype.entities=void 0,o.prototype.disablePunctuation=void 0,o.prototype.insight_items=void 0,o})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(36)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.insights=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("insights")&&(r.insights=t.convertToType(o.insights,[e]))),r},n.prototype.insights=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(33),n(16),n(56),n(12),n(3)],void 0===(i="function"==typeof(o=function(t,e,n,o,r,i){"use strict";var s=function(t,e,n){this.session=t,this.from=e,this.payload=n};return s.constructFromObject=function(a,c){return a&&(c=c||new s,a.hasOwnProperty("id")&&(c.id=t.convertToType(a.id,"String")),a.hasOwnProperty("session")&&(c.session=r.constructFromObject(a.session)),a.hasOwnProperty("from")&&(c.from=i.constructFromObject(a.from)),a.hasOwnProperty("to")&&(c.to=t.convertToType(a.to,[i])),a.hasOwnProperty("payload")&&(c.payload=o.constructFromObject(a.payload)),a.hasOwnProperty("channel")&&(c.channel=e.constructFromObject(a.channel)),a.hasOwnProperty("metadata")&&(c.metadata=n.constructFromObject(a.metadata))),c},s.prototype.id=void 0,s.prototype.session=void 0,s.prototype.from=void 0,s.prototype.to=void 0,s.prototype.payload=void 0,s.prototype.channel=void 0,s.prototype.metadata=void 0,s})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(37)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.intents=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("intents")&&(r.intents=t.convertToType(o.intents,[e]))),r},n.prototype.intents=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(5)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.members=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("members")&&(r.members=t.convertToType(o.members,[e]))),r},n.prototype.members=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(38)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.messages=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("messages")&&(r.messages=t.convertToType(o.messages,[e]))),r},n.prototype.messages=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(39)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.questions=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("questions")&&(r.questions=t.convertToType(o.questions,[e]))),r},n.prototype.questions=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(40)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.topics=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("topics")&&(r.topics=t.convertToType(o.topics,[e]))),r},n.prototype.topics=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){"use strict";var o=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var r=n(96),i=o(n(1)),s=o(n(25)),a=function(){function t(t){if(void 0===t&&(t={}),!t.url)throw new Error("url is required in the options.");this.url=t.url,this.accessToken=t.accessToken,this.options=t,this.isConnected=!1,this.pongTimeoutRef=null,this.pingIntervalRef=null,this.logEntries=[],this.connect=this.connect.bind(this),this.onConnect=this.onConnect.bind(this),this.onError=this.onError.bind(this),this.onMessage=this.onMessage.bind(this),this.onClose=this.onClose.bind(this),this.send=this.send.bind(this),this.disconnect=this.disconnect.bind(this),this.pongTimeout=this.pongTimeout.bind(this),this.ping=this.ping.bind(this),this.clearPongTimeout=this.clearPongTimeout.bind(this),this.clearPingInterval=this.clearPingInterval.bind(this),this.logRecurring=this.logRecurring.bind(this),this.connect()}return t.prototype.ping=function(){var t=this;1===this.webSocket.readyState&&(this.send("__PING__",null),this.pongTimeoutRef=setTimeout((function(){t.pongTimeout()}),3e4))},t.prototype.pongTimeout=function(){i.default.warn("PONG failed to receive in ".concat(3e4,"ms, closing WebSocket connection")),this.clearPongTimeout(),this.webSocket.close(3006,"Connection closure due to failure in receiving pong within configured threshold"),this.options.onForceClose&&this.options.onForceClose(this.options.referenceId)},t.prototype.clearPongTimeout=function(){this.pongTimeoutRef&&clearTimeout(this.pongTimeoutRef)},t.prototype.clearPingInterval=function(){this.pingIntervalRef&&clearInterval(this.pingIntervalRef)},t.prototype.onError=function(t){this.isConnected?(this.clearPingInterval(),this.clearPongTimeout(),this.options.onError&&this.options.onError(t)):i.default.error("Failed to establish the initial handshake: ".concat(t&&t.message),t)},t.prototype.onMessage=function(t){var e=t.data;"__PONG__"!==e?this.options.onMessage&&this.options.onMessage(e):this.clearPongTimeout()},t.prototype.onClose=function(t){!this.isConnected&&t&&1006===t.code&&(t.handshakeFailed=!0),this.clearPingInterval(),this.clearPongTimeout(),this.options.onClose&&this.options.onClose(t)},t.prototype.onConnect=function(t){var e=this;this.isConnected=!0,this.webSocketConnection=t,this.options.reconnectOnError&&(this.pingIntervalRef=setInterval((function(){e.ping()}),30500)),this.options.onConnectSuccess?this.options.onConnectSuccess(t):i.default.info("Connection established successfully"),this.options.onConnect?this.options.onConnect(t):i.default.info("Connection established.")},t.prototype.connect=function(){var t=s.default?"js_sdk":"web_sdk",e="".concat(this.url,"?access_token=").concat(this.accessToken,"&source=").concat(t);this.webSocket=new r.w3cwebsocket(e,null,null,{"X-API-KEY":this.accessToken}),this.webSocket.binaryType="arraybuffer",this.webSocket.onerror=this.onError,this.webSocket.onmessage=this.onMessage,this.webSocket.onclose=this.onClose,this.webSocket.onopen=this.onConnect},t.prototype.logRecurring=function(t,e){var n=this;if(void 0===e&&(e="info"),!this.logEntries[t]){switch(this.logEntries[t]=t,e){case"warn":i.default.warn(t);break;case"error":i.default.error(t);break;case"debug":i.default.debug(t);break;case"info":default:i.default.info(t)}setTimeout((function(){delete n.logEntries[t]}),5e3)}},t.prototype.send=function(t,e){if(t)try{1===this.webSocket.readyState?this.webSocket.send(t):this.logRecurring("WebSocket Connection not open. Couldn't send data.","warn")}catch(t){i.default.error("Error while sending the data.",t)}else e&&e({message:"undefined data detected."})},t.prototype.disconnect=function(){this.clearPingInterval(),this.clearPongTimeout(),this.webSocket.close(1e3)},t}();e.default=a},function(t,e){t.exports=!1},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var c,u=[],p=!1,l=-1;function h(){p&&c&&(p=!1,c.length?u=c.concat(u):l=-1,u.length&&f())}function f(){if(!p){var t=a(h);p=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,p=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||p||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var o=n(69),r=n(70),i=n(71);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,n)}function u(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=h(t,e);return t}(t,e,n,o):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|d(e,n),r=(t=a(t,o)).write(e,n);r!==o&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?a(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function p(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(p(e),t=a(t,e<0?0:0|f(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function f(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(t).length;default:if(o)return L(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function v(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function g(t,e,n,o,r){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=c.from(e,o)),c.isBuffer(e))return 0===e.length?-1:m(t,e,n,o,r);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,o,r);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,o,r){var i,s=1,a=t.length,c=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var p=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===p?0:i-p)){if(-1===p&&(p=i),i-p+1===c)return p*s}else-1!==p&&(i-=i-p),p=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var l=!0,h=0;h<c;h++)if(u(t,i+h)!==u(e,h)){l=!1;break}if(l)return i}return-1}function w(t,e,n,o){n=Number(n)||0;var r=t.length-n;o?(o=Number(o))>r&&(o=r):o=r;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");o>i/2&&(o=i/2);for(var s=0;s<o;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function b(t,e,n,o){return W(L(e,t.length-n),t,n,o)}function T(t,e,n,o){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,o)}function S(t,e,n,o){return T(t,e,n,o)}function k(t,e,n,o){return W(N(e),t,n,o)}function _(t,e,n,o){return W(function(t,e){for(var n,o,r,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),o=n>>8,r=n%256,i.push(r),i.push(o);return i}(e,t.length-n),t,n,o)}function O(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var o=[],r=e;r<n;){var i,s,a,c,u=t[r],p=null,l=u>239?4:u>223?3:u>191?2:1;if(r+l<=n)switch(l){case 1:u<128&&(p=u);break;case 2:128==(192&(i=t[r+1]))&&(c=(31&u)<<6|63&i)>127&&(p=c);break;case 3:i=t[r+1],s=t[r+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(p=c);break;case 4:i=t[r+1],s=t[r+2],a=t[r+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(p=c)}null===p?(p=65533,l=1):p>65535&&(p-=65536,o.push(p>>>10&1023|55296),p=56320|1023&p),o.push(p),r+=l}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",o=0;for(;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=4096));return n}(o)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,o){return p(e),e<=0?a(t,e):void 0!==n?"string"==typeof o?a(t,e).fill(n,o):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,r=0,i=Math.min(n,o);r<i;++r)if(t[r]!==e[r]){n=t[r],o=e[r];break}return n<o?-1:o<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,r),r+=s.length}return o},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):y.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,o,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),e<0||n>t.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&e>=n)return 0;if(o>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(r>>>=0)-(o>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),u=this.slice(o,r),p=t.slice(e,n),l=0;l<a;++l)if(u[l]!==p[l]){i=u[l],s=p[l];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},c.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var i=!1;;)switch(o){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(127&t[r]);return o}function P(t,e,n){var o="";n=Math.min(t.length,n);for(var r=e;r<n;++r)o+=String.fromCharCode(t[r]);return o}function E(t,e,n){var o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var r="",i=e;i<n;++i)r+=D(t[i]);return r}function R(t,e,n){for(var o=t.slice(e,n),r="",i=0;i<o.length;i+=2)r+=String.fromCharCode(o[i]+256*o[i+1]);return r}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,o,r,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<i)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function j(t,e,n,o){e<0&&(e=65535+e+1);for(var r=0,i=Math.min(t.length-n,2);r<i;++r)t[n+r]=(e&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function q(t,e,n,o){e<0&&(e=4294967295+e+1);for(var r=0,i=Math.min(t.length-n,4);r<i;++r)t[n+r]=e>>>8*(o?r:3-r)&255}function M(t,e,n,o,r,i){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,o,i){return i||M(t,0,n,4),r.write(t,e,n,o,23,4),n+4}function F(t,e,n,o,i){return i||M(t,0,n,8),r.write(t,e,n,o,52,8),n+8}c.prototype.slice=function(t,e){var n,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var o=this[t+--e],r=1;e>0&&(r*=256);)o+=this[t+--e]*r;return o},c.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var o=this[t],r=1,i=0;++i<e&&(r*=256);)o+=this[t+i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var o=e,r=1,i=this[t+--o];o>0&&(r*=256);)i+=this[t+--o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[e]=255&t;++i<n&&(r*=256);)this[e+i]=t/r&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||A(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[e+r]=255&t;--r>=0&&(i*=256);)this[e+r]=t/i&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):q(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);A(this,t,e,n,r-1,-r)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var r=Math.pow(2,8*n-1);A(this,t,e,n,r-1,-r)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):q(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var r,i=o-n;if(this===t&&n<e&&e<o)for(r=i-1;r>=0;--r)t[r+e]=this[r+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=c.isBuffer(t)?t:L(new c(t,o).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var n;e=e||1/0;for(var o=t.length,r=null,i=[],s=0;s<o;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===o){(e-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function N(t){return o.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,o){for(var r=0;r<o&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(4))},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(t,e){this.invokeOn=t,this.name=e};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("invokeOn")&&(o.invokeOn=t.convertToType(n.invokeOn,"String")),n.hasOwnProperty("name")&&(o.name=t.convertToType(n.name,"String")),n.hasOwnProperty("parameters")&&(o.parameters=t.convertToType(n.parameters,Object))),o},e.prototype.invokeOn=void 0,e.prototype.name=void 0,e.prototype.parameters=void 0,e.InvokeOnEnum={start:"start",stop:"stop"},e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(11),n(5),n(2)],void 0===(i="function"==typeof(o=function(t,e,n,o){"use strict";var r=function(){};return r.constructFromObject=function(i,s){return i&&(s=s||new r,i.hasOwnProperty("id")&&(s.id=t.convertToType(i.id,"String")),i.hasOwnProperty("text")&&(s.text=t.convertToType(i.text,"String")),i.hasOwnProperty("type")&&(s.type=t.convertToType(i.type,"String")),i.hasOwnProperty("score")&&(s.score=t.convertToType(i.score,"Number")),i.hasOwnProperty("messageIds")&&(s.messageIds=t.convertToType(i.messageIds,["String"])),i.hasOwnProperty("entities")&&(s.entities=t.convertToType(i.entities,[o])),i.hasOwnProperty("assignee")&&(s.assignee=n.constructFromObject(i.assignee)),i.hasOwnProperty("dueBy")&&(s.dueBy=e.constructFromObject(i.dueBy))),s},r.prototype.id=void 0,r.prototype.text=void 0,r.prototype.type=void 0,r.prototype.score=void 0,r.prototype.messageIds=void 0,r.prototype.entities=void 0,r.prototype.assignee=void 0,r.prototype.dueBy=void 0,r})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("type")&&(o.type=t.convertToType(n.type,"String")),n.hasOwnProperty("value")&&(o.value=t.convertToType(n.value,Object)),n.hasOwnProperty("start")&&(o.start=t.convertToType(n.start,"String")),n.hasOwnProperty("end")&&(o.end=t.convertToType(n.end,"String"))),o},e.prototype.type=void 0,e.prototype.value=void 0,e.prototype.start=void 0,e.prototype.end=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("encoding")&&(o.encoding=t.convertToType(n.encoding,"String")),n.hasOwnProperty("sampleRate")&&(o.sampleRate=t.convertToType(n.sampleRate,"Number")),n.hasOwnProperty("sampleSize")&&(o.sampleSize=t.convertToType(n.sampleSize,"Number")),n.hasOwnProperty("payloadType")&&(o.payloadType=t.convertToType(n.payloadType,"Number"))),o},e.prototype.encoding=void 0,e.prototype.sampleRate=void 0,e.prototype.sampleSize=void 0,e.prototype.payloadType=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("color")&&(o.color=t.convertToType(n.color,"String"))),o},e.prototype.color=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("id")&&(o.id=t.convertToType(n.id,"String")),n.hasOwnProperty("name")&&(o.name=t.convertToType(n.name,"String"))),o},e.prototype.id=void 0,e.prototype.name=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(5)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("id")&&(r.id=t.convertToType(o.id,"String")),o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("name")&&(r.name=t.convertToType(o.name,"String")),o.hasOwnProperty("startTime")&&(r.startTime=t.convertToType(o.startTime,"Date")),o.hasOwnProperty("endTime")&&(r.endTime=t.convertToType(o.endTime,"Date")),o.hasOwnProperty("transcriptId")&&(r.transcriptId=t.convertToType(o.transcriptId,"String")),o.hasOwnProperty("members")&&(r.members=t.convertToType(o.members,[e]))),r},n.prototype.id=void 0,n.prototype.type=void 0,n.prototype.name=void 0,n.prototype.startTime=void 0,n.prototype.endTime=void 0,n.prototype.transcriptId=void 0,n.prototype.members=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(2)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("id")&&(r.id=t.convertToType(o.id,"String")),o.hasOwnProperty("text")&&(r.text=t.convertToType(o.text,"String")),o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("score")&&(r.score=t.convertToType(o.score,"Number")),o.hasOwnProperty("messageIds")&&(r.messageIds=t.convertToType(o.messageIds,["String"])),o.hasOwnProperty("entities")&&(r.entities=t.convertToType(o.entities,[e])),o.hasOwnProperty("channel")&&(r.channel=t.convertToType(o.channel,"String"))),r},n.prototype.id=void 0,n.prototype.text=void 0,n.prototype.type=void 0,n.prototype.score=void 0,n.prototype.messageIds=void 0,n.prototype.entities=void 0,n.prototype.channel=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(2)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("id")&&(r.id=t.convertToType(o.id,"String")),o.hasOwnProperty("text")&&(r.text=t.convertToType(o.text,"String")),o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("score")&&(r.score=t.convertToType(o.score,"Number")),o.hasOwnProperty("messageIds")&&(r.messageIds=t.convertToType(o.messageIds,["String"])),o.hasOwnProperty("entities")&&(r.entities=t.convertToType(o.entities,[e]))),r},n.prototype.id=void 0,n.prototype.text=void 0,n.prototype.type=void 0,n.prototype.score=void 0,n.prototype.messageIds=void 0,n.prototype.entities=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(2)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("id")&&(r.id=t.convertToType(o.id,"String")),o.hasOwnProperty("text")&&(r.text=t.convertToType(o.text,"String")),o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("score")&&(r.score=t.convertToType(o.score,"Number")),o.hasOwnProperty("messageIds")&&(r.messageIds=t.convertToType(o.messageIds,["String"])),o.hasOwnProperty("intent")&&(r.intent=t.convertToType(o.intent,"String")),o.hasOwnProperty("alternatives")&&(r.alternatives=t.convertToType(o.alternatives,[Object])),o.hasOwnProperty("entities")&&(r.entities=t.convertToType(o.entities,[e]))),r},n.prototype.id=void 0,n.prototype.text=void 0,n.prototype.type=void 0,n.prototype.score=void 0,n.prototype.messageIds=void 0,n.prototype.intent=void 0,n.prototype.alternatives=void 0,n.prototype.entities=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(5)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("id")&&(r.id=t.convertToType(o.id,"String")),o.hasOwnProperty("text")&&(r.text=t.convertToType(o.text,"String")),o.hasOwnProperty("from")&&(r.from=e.constructFromObject(o.from)),o.hasOwnProperty("startTime")&&(r.startTime=t.convertToType(o.startTime,"Date")),o.hasOwnProperty("endTime")&&(r.endTime=t.convertToType(o.endTime,"Date")),o.hasOwnProperty("transcriptId")&&(r.transcriptId=t.convertToType(o.transcriptId,"String")),o.hasOwnProperty("conversationId")&&(r.conversationId=t.convertToType(o.conversationId,"String"))),r},n.prototype.id=void 0,n.prototype.text=void 0,n.prototype.from=void 0,n.prototype.startTime=void 0,n.prototype.endTime=void 0,n.prototype.transcriptId=void 0,n.prototype.conversationId=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(2)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("id")&&(r.id=t.convertToType(o.id,"String")),o.hasOwnProperty("text")&&(r.text=t.convertToType(o.text,"String")),o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("score")&&(r.score=t.convertToType(o.score,"Number")),o.hasOwnProperty("messageIds")&&(r.messageIds=t.convertToType(o.messageIds,["String"])),o.hasOwnProperty("entities")&&(r.entities=t.convertToType(o.entities,[e]))),r},n.prototype.id=void 0,n.prototype.text=void 0,n.prototype.type=void 0,n.prototype.score=void 0,n.prototype.messageIds=void 0,n.prototype.entities=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(2)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("id")&&(r.id=t.convertToType(o.id,"String")),o.hasOwnProperty("text")&&(r.text=t.convertToType(o.text,"String")),o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("score")&&(r.score=t.convertToType(o.score,"Number")),o.hasOwnProperty("messageIds")&&(r.messageIds=t.convertToType(o.messageIds,["String"])),o.hasOwnProperty("entities")&&(r.entities=t.convertToType(o.entities,[e]))),r},n.prototype.id=void 0,n.prototype.text=void 0,n.prototype.type=void 0,n.prototype.score=void 0,n.prototype.messageIds=void 0,n.prototype.entities=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(31)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("uri")&&(r.uri=t.convertToType(o.uri,"String")),o.hasOwnProperty("providerName")&&(r.providerName=t.convertToType(o.providerName,"String")),o.hasOwnProperty("phoneNumber")&&(r.phoneNumber=t.convertToType(o.phoneNumber,"String")),o.hasOwnProperty("dtmf")&&(r.dtmf=t.convertToType(o.dtmf,"String")),o.hasOwnProperty("language")&&(r.language=t.convertToType(o.language,"String")),o.hasOwnProperty("audioConfig")&&(r.audioConfig=e.constructFromObject(o.audioConfig)),o.hasOwnProperty("timezoneOffset")&&(r.timezoneOffset=t.convertToType(o.timezoneOffset,"Number")),o.hasOwnProperty("idleTimeout")&&(r.idleTimeout=t.convertToType(o.idleTimeout,"Number")),o.hasOwnProperty("transportConfig")&&(r.transportConfig=t.convertToType(o.transportConfig,"String"))),r},n.prototype.type=void 0,n.prototype.uri=void 0,n.prototype.providerName=void 0,n.prototype.phoneNumber=void 0,n.prototype.dtmf=void 0,n.prototype.language=void 0,n.prototype.audioConfig=void 0,n.prototype.timezoneOffset=void 0,n.prototype.idleTimeout=void 0,n.prototype.transportConfig=void 0,n.TypeEnum={sip:"sip",pstn:"pstn"},n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(28),n(41),n(43),n(47),n(48)],void 0===(i="function"==typeof(o=function(t,e,n,o,r,i){"use strict";var s=function(t,e){this.operation=t,this.endpoint=e};return s.constructFromObject=function(a,c){return a&&(c=c||new s,a.hasOwnProperty("connectionId")&&(c.connectionId=t.convertToType(a.connectionId,"String")),a.hasOwnProperty("operation")&&(c.operation=t.convertToType(a.operation,"String")),a.hasOwnProperty("endpoint")&&(c.endpoint=n.constructFromObject(a.endpoint)),a.hasOwnProperty("intents")&&(c.intents=t.convertToType(a.intents,[r])),a.hasOwnProperty("endpointWebhookUrl")&&(c.endpointWebhookUrl=t.convertToType(a.endpointWebhookUrl,"String")),a.hasOwnProperty("callbackUrl")&&(c.callbackUrl=t.convertToType(a.callbackUrl,"String")),a.hasOwnProperty("headers")&&(c.headers=t.convertToType(a.headers,Object)),a.hasOwnProperty("actions")&&(c.actions=t.convertToType(a.actions,[e])),a.hasOwnProperty("languages")&&(c.languages=t.convertToType(a.languages,[i])),a.hasOwnProperty("validationToken")&&(c.validationToken=t.convertToType(a.validationToken,"String")),a.hasOwnProperty("data")&&(c.data=o.constructFromObject(a.data))),c},s.prototype.connectionId=void 0,s.prototype.operation=void 0,s.prototype.endpoint=void 0,s.prototype.intents=void 0,s.prototype.endpointWebhookUrl=void 0,s.prototype.callbackUrl=void 0,s.prototype.headers=void 0,s.prototype.actions=void 0,s.prototype.languages=void 0,s.prototype.validationToken=void 0,s.prototype.data=void 0,s.OperationEnum={start:"start",stop:"stop"},s})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(12)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(t,o){return t&&(o=o||new n,t.hasOwnProperty("session")&&(o.session=e.constructFromObject(t.session))),o},n.prototype.session=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(45)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(t,o){return t&&(o=o||new n,t.hasOwnProperty("timeZone")&&(o.timeZone=e.constructFromObject(t.timeZone))),o},n.prototype.timeZone=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("name")&&(o.name=t.convertToType(n.name,"String")),n.hasOwnProperty("offset")&&(o.offset=t.convertToType(n.offset,"Number"))),o},e.prototype.name=void 0,e.prototype.offset=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(3)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("user")&&(r.user=e.constructFromObject(o.user)),o.hasOwnProperty("status")&&(r.status=t.convertToType(o.status,"String")),o.hasOwnProperty("mode")&&(r.mode=t.convertToType(o.mode,"String"))),r},n.prototype.user=void 0,n.prototype.status=void 0,n.prototype.mode=void 0,n.StatusEnum={joined:"joined",not_joined:"not_joined",left:"left"},n.ModeEnum={native:"native",external:"external",custom:"custom"},n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(t){this.intent=t};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("intent")&&(o.intent=t.convertToType(n.intent,"String")),n.hasOwnProperty("silenceTimeout")&&(o.silenceTimeout=t.convertToType(n.silenceTimeout,"Number"))),o},e.prototype.intent=void 0,e.prototype.silenceTimeout=void 0,e.IntentEnum={answering_machine:"answering_machine",do_not_call:"do_not_call",not_interested:"not_interested",interested:"interested"},e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("code")&&(o.code=t.convertToType(n.code,"String"))),o},e.prototype.code=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(50)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t){this.connectionId=t};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("connectionId")&&(r.connectionId=t.convertToType(o.connectionId,"String")),o.hasOwnProperty("eventUrl")&&(r.eventUrl=t.convertToType(o.eventUrl,"String")),o.hasOwnProperty("resultWebSocketUrl")&&(r.resultWebSocketUrl=t.convertToType(o.resultWebSocketUrl,"String")),o.hasOwnProperty("conversationId")&&(r.conversationId=t.convertToType(o.conversationId,"String")),o.hasOwnProperty("summaryInfo")&&(r.summaryInfo=t.convertToType(o.summaryInfo,[e]))),r},n.prototype.connectionId=void 0,n.prototype.eventUrl=void 0,n.prototype.resultWebSocketUrl=void 0,n.prototype.conversationId=void 0,n.prototype.summaryInfo=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(3)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(){};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("user")&&(r.user=e.constructFromObject(o.user)),o.hasOwnProperty("url")&&(r.url=t.convertToType(o.url,"String"))),r},n.prototype.user=void 0,n.prototype.url=void 0,n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(3)],void 0===(i="function"==typeof(o=function(t,e){"use strict";var n=function(t,e){this.type=t,this.user=e};return n.constructFromObject=function(o,r){return o&&(r=r||new n,o.hasOwnProperty("topic")&&(r.topic=t.convertToType(o.topic,"String")),o.hasOwnProperty("type")&&(r.type=t.convertToType(o.type,"String")),o.hasOwnProperty("user")&&(r.user=e.constructFromObject(o.user))),r},n.prototype.topic=void 0,n.prototype.type=void 0,n.prototype.user=void 0,n.TopicEnum={speaker:"speaker"},n})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(t){this.type=t};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("type")&&(o.type=t.convertToType(n.type,"String")),n.hasOwnProperty("username")&&(o.username=t.convertToType(n.username,"String")),n.hasOwnProperty("password")&&(o.password=t.convertToType(n.password,"String")),n.hasOwnProperty("appId")&&(o.appId=t.convertToType(n.appId,"String")),n.hasOwnProperty("appSecret")&&(o.appSecret=t.convertToType(n.appSecret,"String"))),o},e.prototype.type=void 0,e.prototype.username=void 0,e.prototype.password=void 0,e.prototype.appId=void 0,e.prototype.appSecret=void 0,e.TypeEnum={password:"password",application:"application"},e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("key")&&(o.key=t.convertToType(n.key,"String")),n.hasOwnProperty("value")&&(o.value=t.convertToType(n.value,"String"))),o},e.prototype.key=void 0,e.prototype.value=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("conversationSetting")&&(o.conversationSetting=t.convertToType(n.conversationSetting,"String")),n.hasOwnProperty("confidenceThreshold")&&(o.confidenceThreshold=t.convertToType(n.confidenceThreshold,"Number")),n.hasOwnProperty("disablePunctuation")&&(o.disablePunctuation=t.convertToType(n.disablePunctuation,"Boolean")),n.hasOwnProperty("language")&&(o.language=t.convertToType(n.language,"String")),n.hasOwnProperty("timezoneOffset")&&(o.timezoneOffset=t.convertToType(n.timezoneOffset,"Number"))),o},e.prototype.conversationSetting=void 0,e.prototype.confidenceThreshold=void 0,e.prototype.disablePunctuation=!0,e.prototype.language=void 0,e.prototype.timezoneOffset=void 0,e.ConversationSettingEnum={general:"general",meeting:"meeting",interview:"interview"},e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(54),n(15),n(18)],void 0===(i="function"==typeof(o=function(t,e,n,o){"use strict";var r=function(t,e){this.insightTypes=t,this.messages=e};return r.constructFromObject=function(i,s){return i&&(s=s||new r,i.hasOwnProperty("insightTypes")&&(s.insightTypes=t.convertToType(i.insightTypes,[n])),i.hasOwnProperty("messages")&&(s.messages=t.convertToType(i.messages,[o])),i.hasOwnProperty("config")&&(s.config=e.constructFromObject(i.config))),s},r.prototype.insightTypes=void 0,r.prototype.messages=void 0,r.prototype.config=void 0,r})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("content")&&(o.content=t.convertToType(n.content,"String")),n.hasOwnProperty("contentType")&&(o.contentType=t.convertToType(n.contentType,"String"))),o},e.prototype.content=void 0,e.prototype.contentType=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(6),n(14),n(18)],void 0===(i="function"==typeof(o=function(t,e,n,o){"use strict";var r=function(){};return r.constructFromObject=function(i,s){return i&&(s=s||new r,i.hasOwnProperty("insights")&&(s.insights=t.convertToType(i.insights,[n])),i.hasOwnProperty("messages")&&(s.messages=t.convertToType(i.messages,[o])),i.hasOwnProperty("errors")&&(s.errors=t.convertToType(i.errors,[e]))),s},r.prototype.insights=void 0,r.prototype.messages=void 0,r.prototype.errors=void 0,r})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("appId")&&(o.appId=t.convertToType(n.appId,"String")),n.hasOwnProperty("appSecret")&&(o.appSecret=t.convertToType(n.appSecret,"String")),n.hasOwnProperty("refreshToken")&&(o.refreshToken=t.convertToType(n.refreshToken,"String"))),o},e.prototype.appId=void 0,e.prototype.appSecret=void 0,e.prototype.refreshToken=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("appId")&&(o.appId=t.convertToType(n.appId,"String")),n.hasOwnProperty("appSecret")&&(o.appSecret=t.convertToType(n.appSecret,"String"))),o},e.prototype.appId=void 0,e.prototype.appSecret=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(t){"use strict";var e=function(){};return e.constructFromObject=function(n,o){return n&&(o=o||new e,n.hasOwnProperty("accessToken")&&(o.accessToken=t.convertToType(n.accessToken,"String")),n.hasOwnProperty("refershToken")&&(o.refershToken=t.convertToType(n.refershToken,"String")),n.hasOwnProperty("expiresIn")&&(o.expiresIn=t.convertToType(n.expiresIn,"Number"))),o},e.prototype.accessToken=void 0,e.prototype.refershToken=void 0,e.prototype.expiresIn=void 0,e})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){"use strict";e.__esModule=!0;var o="Unrecognized error has occurred, please report this issue or contact the support - support@rammer.ai",r="Error occurred in the remote system. If the problem doesn't resolve in sometime, contact the support immediately - support@rammer.ai",i="Error occurred in client sdk. please report this issue or contact the support - support@rammer.ai",s="Your app is not authorized to perform this operation. Please make sure that the credentials are provided using init(), and are valid.",a="Your app doesn't have enough permissions to perform this operation.",c="The requested resource was not found.",u="The request syntax is not valid.",p="You don't have enough balance to perform this operation.",l=function(){function t(){}return t.getError=function(t){var e=o;if(t.internalError)return{internalError:t};if(t&&t.status&&t.response){var n=t.status,l=t.response;if(n)if(n>=500&&n<=511)e=r;else if(n>=400&&n<=451)switch(n){case 400:e=u;break;case 401:e=s;break;case 402:e=p;break;case 403:e=a;break;case 404:e=c;break;default:e=i}if(l&&l.body){var h=JSON.stringify(l.body,null,2);e="".concat(e,"\n").concat(h)}}return{internalError:t,message:e}},t}();e.default=l},function(t,e,n){"use strict";var o=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))},r=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var s=i(n(24)),a=i(n(1)),c=i(n(101)),u={notAvailable:"not_available",notConnected:"not_connected",isConnecting:"is_connecting",connected:"connected",error:"error",closed:"closed"},p=function(){function t(t,e,n){void 0===n&&(n={});var o=this;if(!t.webSocketUrl||!t.eventUrl)throw new Error("At least one of webSocketUrl and eventUrl is required in connection.");if(!e)throw new Error("apiClient is required for EventApi");this.webSocketUrl=t.webSocketUrl,this.eventUrl=t.eventUrl,this.options=n,this.connection=t,this.eventsQueue=new c.default({concurrency:1}),this.eventCount=0,this.eventsQueue.on("active",(function(){a.default.trace("Working on event #".concat(++o.eventCount,", Size: ").concat(o.eventsQueue.size,", Pending: ").concat(o.eventsQueue.pending))})),this.connectWebSocket=this.connectWebSocket.bind(this),this.onConnectWebSocket=this.onConnectWebSocket.bind(this),this.onErrorWebSocket=this.onErrorWebSocket.bind(this),this.onMessageWebSocket=this.onMessageWebSocket.bind(this),this.onCloseWebSocket=this.onCloseWebSocket.bind(this),this.publishResults=this.publishResults.bind(this),this.apiClient=e,this.maxWaitTimeForWebSocketConnectionEstablishmentInSeconds=60,this.webSocketConnectionEstablishmentPollInterval=250,this.webSocketUrl?(this.webSocketStatus=u.notConnected,this.options.pushSpeakerEvents&&this.connectWebSocket(this.webSocketUrl)):this.eventUrl&&(this.webSocketStatus=u.notAvailable)}return t.prototype.onErrorWebSocket=function(t){this.webSocketStatus=u.error,a.default.error(t)},t.getWebSocketConnectionStatuses=function(){return u},t.prototype.onMessageWebSocket=function(t){this.publishResults(t)},t.prototype.onCloseWebSocket=function(){this.webSocketStatus=u.closed},t.prototype.onConnectWebSocket=function(){this.webSocketStatus=u.connected},t.prototype.connectWebSocket=function(t){this.webSocketStatus=u.isConnecting,a.default.trace("Establishing Events WebSocket Connection"),this.webSocket=new s.default({url:t,accessToken:this.apiClient.authentications.jwt.apiKey,onError:this.onErrorWebSocket,onClose:this.onCloseWebSocket,onMessage:this.onMessageWebSocket,onConnect:this.onConnectWebSocket})},t.prototype.enqueueEvent=function(t){return o(this,void 0,void 0,(function(){var e=this;return r(this,(function(n){switch(n.label){case 0:return t.timestamp||(t.timestamp=(new Date).toISOString()),[4,this.eventsQueue.add((function(){return e.sendEvent(t)}))];case 1:return n.sent(),[2]}}))}))},t.prototype.sendEvent=function(t){var e=this;if(this.webSocketStatus===u.notConnected||this.webSocketStatus===u.isConnecting)return new Promise((function(n,o){var r=1e3*e.maxWaitTimeForWebSocketConnectionEstablishmentInSeconds/e.webSocketConnectionEstablishmentPollInterval,i=setInterval((function(){if(e.webSocketStatus===u.connected){clearInterval(i),i=null;var s=JSON.stringify(t);a.default.trace("Sending event on Events WebSocket after WebSocket connection status changed to ".concat(u.connected),s),e.webSocket.send(s),n()}if(r<=0){var c="Events WebSocket connection was in ".concat(e.webSocketStatus," state after ").concat(e.maxWaitTimeForWebSocketConnectionEstablishmentInSeconds," seconds.");clearInterval(i),a.default.error(c),o(c)}--r}),e.webSocketConnectionEstablishmentPollInterval)}));if(this.webSocketStatus===u.connected){var n=JSON.stringify(t);return a.default.trace("Sending event on Events WebSocket connection",n),this.webSocket.send(n),Promise.resolve()}if(this.webSocketStatus===u.error){var o="Cannot send events as WebSocket connection was closed with error";return a.default.error(o),Promise.reject(o)}o="Cannot send events as WebSocket connection was already closed or not established";return a.default.error(o),Promise.reject(o)},t.prototype.pushEvent=function(t,e){this.webSocketStatus===u.notConnected&&this.connectWebSocket(this.webSocketUrl),this.webSocketStatus===u.connected||this.webSocketStatus===u.isConnecting||this.webSocketStatus===u.notConnected?this.enqueueEvent(t):this.webSocketStatus===u.notAvailable||this.webSocketStatus===u.error||e&&e({message:"Connection is already closed."})},t.prototype.publishResults=function(t){this.connection.publish(t)},t}();e.default=p},function(t,e,n){"use strict";(function(t){var o=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var r=o(n(107)),i=function(){function t(){this.cacheStore=new r.default,this.get=this.get.bind(this),this.set=this.set.bind(this),this.remove=this.remove.bind(this),this.contains=this.contains.bind(this)}return t.prototype.contains=function(t){return this.cacheStore.contains(t)},t.prototype.get=function(t){return this.cacheStore.get(t)},t.prototype.set=function(t,e){this.cacheStore.set(t,e)},t.prototype.remove=function(t){this.cacheStore.remove(t)},t}();e.default=i}).call(this,n(4))},function(t,e,n){"use strict";var o=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))},r=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var s=i(n(1)),a=function(){function t(t,e,n,o){void 0===t&&(t=5e3),void 0===e&&(e=100),void 0===n&&(n=.9),void 0===o&&(o=20),t<=e&&s.default.error("Maximum delay must be greater than minimum delay."),(n>=1||n<=0)&&s.default.error("Factor must be between 0 and 1."),o<=0&&s.default.error("Maximum retries must be greater than 0."),this.max=t,this.min=e,this.factor=n,this.retries=o,this.nextDelay=t,this.reset=this.reset.bind(this),this.run=this.run.bind(this)}return t.prototype.reset=function(){this.max=5e3,this.min=100,this.factor=.9,this.retries=20,this.nextDelay=5e3},t.prototype.run=function(t,e,n,i){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=!1),o(this,void 0,void 0,(function(){var o,a,c,u=this;return r(this,(function(r){switch(r.label){case 0:if(!t||"function"!=typeof t)return o="Please provide a callback function to be run after the inverse exponential backoff delay.",s.default.error(o),[2,Promise.reject(o)];if(n&&!Array.isArray(n)&&s.default.error("No valid arguments passed in args"),0===this.retries)throw s.default.error("No retries remaining."),new Error("No retries remaining.");r.label=1;case 1:return r.trys.push([1,5,,6]),i?[3,3]:[4,new Promise((function(t){return setTimeout(t,u.nextDelay)}))];case 2:r.sent(),this.retries-=1,(a=this.nextDelay*this.factor)>this.min?this.nextDelay=a:this.nextDelay=this.min,r.label=3;case 3:return[4,t.apply(e,n)];case 4:return[2,r.sent()];case 5:if(c=r.sent(),this.retries<=0)throw s.default.error(c),c;return s.default.warn("Execution failed with exception: ".concat(c&&c.message," -- Retrying"),c),[2,this.run(t,e,n)];case 6:return[2]}}))}))},t}();e.default=a},function(t,e,n){"use strict";var o;n.r(e),n.d(e,"v1",(function(){return y})),n.d(e,"v3",(function(){return O})),n.d(e,"v4",(function(){return I})),n.d(e,"v5",(function(){return E})),n.d(e,"NIL",(function(){return R})),n.d(e,"version",(function(){return x})),n.d(e,"validate",(function(){return a})),n.d(e,"stringify",(function(){return h})),n.d(e,"parse",(function(){return v}));var r=new Uint8Array(16);function i(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(r)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(t){return"string"==typeof t&&s.test(t)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var p,l,h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n},f=0,d=0;var y=function(t,e,n){var o=e&&n||0,r=e||new Array(16),s=(t=t||{}).node||p,a=void 0!==t.clockseq?t.clockseq:l;if(null==s||null==a){var c=t.random||(t.rng||i)();null==s&&(s=p=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=l=16383&(c[6]<<8|c[7]))}var u=void 0!==t.msecs?t.msecs:Date.now(),y=void 0!==t.nsecs?t.nsecs:d+1,v=u-f+(y-d)/1e4;if(v<0&&void 0===t.clockseq&&(a=a+1&16383),(v<0||u>f)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=u,d=y,l=a;var g=(1e4*(268435455&(u+=122192928e5))+y)%4294967296;r[o++]=g>>>24&255,r[o++]=g>>>16&255,r[o++]=g>>>8&255,r[o++]=255&g;var m=u/4294967296*1e4&268435455;r[o++]=m>>>8&255,r[o++]=255&m,r[o++]=m>>>24&15|16,r[o++]=m>>>16&255,r[o++]=a>>>8|128,r[o++]=255&a;for(var w=0;w<6;++w)r[o+w]=s[w];return e||h(r)};var v=function(t){if(!a(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};var g=function(t,e,n){function o(t,o,r,i){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof o&&(o=v(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(o),s.set(t,o.length),(s=n(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,r){i=i||0;for(var a=0;a<16;++a)r[i+a]=s[a];return r}return h(s)}try{o.name=t}catch(t){}return o.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",o.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o};function m(t){return 14+(t+64>>>9<<4)+1}function w(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function b(t,e,n,o,r,i){return w((s=w(w(e,t),w(o,i)))<<(a=r)|s>>>32-a,n);var s,a}function T(t,e,n,o,r,i,s){return b(e&n|~e&o,t,e,r,i,s)}function S(t,e,n,o,r,i,s){return b(e&o|n&~o,t,e,r,i,s)}function k(t,e,n,o,r,i,s){return b(e^n^o,t,e,r,i,s)}function _(t,e,n,o,r,i,s){return b(n^(e|~o),t,e,r,i,s)}var O=g("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,o=0;o<n;o+=8){var r=t[o>>5]>>>o%32&255,i=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);e.push(i)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[m(e)-1]=e;for(var n=1732584193,o=-271733879,r=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=o,u=r,p=i;n=T(n,o,r,i,t[s],7,-680876936),i=T(i,n,o,r,t[s+1],12,-389564586),r=T(r,i,n,o,t[s+2],17,606105819),o=T(o,r,i,n,t[s+3],22,-1044525330),n=T(n,o,r,i,t[s+4],7,-176418897),i=T(i,n,o,r,t[s+5],12,1200080426),r=T(r,i,n,o,t[s+6],17,-1473231341),o=T(o,r,i,n,t[s+7],22,-45705983),n=T(n,o,r,i,t[s+8],7,1770035416),i=T(i,n,o,r,t[s+9],12,-1958414417),r=T(r,i,n,o,t[s+10],17,-42063),o=T(o,r,i,n,t[s+11],22,-1990404162),n=T(n,o,r,i,t[s+12],7,1804603682),i=T(i,n,o,r,t[s+13],12,-40341101),r=T(r,i,n,o,t[s+14],17,-1502002290),o=T(o,r,i,n,t[s+15],22,1236535329),n=S(n,o,r,i,t[s+1],5,-165796510),i=S(i,n,o,r,t[s+6],9,-1069501632),r=S(r,i,n,o,t[s+11],14,643717713),o=S(o,r,i,n,t[s],20,-373897302),n=S(n,o,r,i,t[s+5],5,-701558691),i=S(i,n,o,r,t[s+10],9,38016083),r=S(r,i,n,o,t[s+15],14,-660478335),o=S(o,r,i,n,t[s+4],20,-405537848),n=S(n,o,r,i,t[s+9],5,568446438),i=S(i,n,o,r,t[s+14],9,-1019803690),r=S(r,i,n,o,t[s+3],14,-187363961),o=S(o,r,i,n,t[s+8],20,1163531501),n=S(n,o,r,i,t[s+13],5,-1444681467),i=S(i,n,o,r,t[s+2],9,-51403784),r=S(r,i,n,o,t[s+7],14,1735328473),o=S(o,r,i,n,t[s+12],20,-1926607734),n=k(n,o,r,i,t[s+5],4,-378558),i=k(i,n,o,r,t[s+8],11,-2022574463),r=k(r,i,n,o,t[s+11],16,1839030562),o=k(o,r,i,n,t[s+14],23,-35309556),n=k(n,o,r,i,t[s+1],4,-1530992060),i=k(i,n,o,r,t[s+4],11,1272893353),r=k(r,i,n,o,t[s+7],16,-155497632),o=k(o,r,i,n,t[s+10],23,-1094730640),n=k(n,o,r,i,t[s+13],4,681279174),i=k(i,n,o,r,t[s],11,-358537222),r=k(r,i,n,o,t[s+3],16,-722521979),o=k(o,r,i,n,t[s+6],23,76029189),n=k(n,o,r,i,t[s+9],4,-640364487),i=k(i,n,o,r,t[s+12],11,-421815835),r=k(r,i,n,o,t[s+15],16,530742520),o=k(o,r,i,n,t[s+2],23,-995338651),n=_(n,o,r,i,t[s],6,-198630844),i=_(i,n,o,r,t[s+7],10,1126891415),r=_(r,i,n,o,t[s+14],15,-1416354905),o=_(o,r,i,n,t[s+5],21,-57434055),n=_(n,o,r,i,t[s+12],6,1700485571),i=_(i,n,o,r,t[s+3],10,-1894986606),r=_(r,i,n,o,t[s+10],15,-1051523),o=_(o,r,i,n,t[s+1],21,-2054922799),n=_(n,o,r,i,t[s+8],6,1873313359),i=_(i,n,o,r,t[s+15],10,-30611744),r=_(r,i,n,o,t[s+6],15,-1560198380),o=_(o,r,i,n,t[s+13],21,1309151649),n=_(n,o,r,i,t[s+4],6,-145523070),i=_(i,n,o,r,t[s+11],10,-1120210379),r=_(r,i,n,o,t[s+2],15,718787259),o=_(o,r,i,n,t[s+9],21,-343485551),n=w(n,a),o=w(o,c),r=w(r,u),i=w(i,p)}return[n,o,r,i]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(m(e)),o=0;o<e;o+=8)n[o>>5]|=(255&t[o/8])<<o%32;return n}(t),8*t.length))}));var I=function(t,e,n){var o=(t=t||{}).random||(t.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=o[r];return e}return h(o)};function C(t,e,n,o){switch(t){case 0:return e&n^~e&o;case 1:return e^n^o;case 2:return e&n^e&o^n&o;case 3:return e^n^o}}function P(t,e){return t<<e|t>>>32-e}var E=g("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var o=unescape(encodeURIComponent(t));t=[];for(var r=0;r<o.length;++r)t.push(o.charCodeAt(r))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,s=Math.ceil(i/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),p=0;p<16;++p)u[p]=t[64*c+4*p]<<24|t[64*c+4*p+1]<<16|t[64*c+4*p+2]<<8|t[64*c+4*p+3];a[c]=u}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var l=0;l<s;++l){for(var h=new Uint32Array(80),f=0;f<16;++f)h[f]=a[l][f];for(var d=16;d<80;++d)h[d]=P(h[d-3]^h[d-8]^h[d-14]^h[d-16],1);for(var y=n[0],v=n[1],g=n[2],m=n[3],w=n[4],b=0;b<80;++b){var T=Math.floor(b/20),S=P(y,5)+C(T,v,g,m)+w+e[T]+h[b]>>>0;w=m,m=g,g=P(v,30)>>>0,v=y,y=S}n[0]=n[0]+y>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+m>>>0,n[4]=n[4]+w>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),R="00000000-0000-0000-0000-000000000000";var x=function(t){if(!a(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},function(t,e,n){"use strict";var o=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.Logger=e.SpeakerEvent=e.sdk=e.SDK=void 0;var r=o(n(67));e.SDK=r.default;var i=n(1);e.Logger=i.Logger;var s=o(n(114));e.SpeakerEvent=s.default;var a=new r.default;e.sdk=a,"undefined"!=typeof window&&(window.ClientSDK=r.default,window.rammerSdk=a,window.SpeakerEvent=s.default,window.Logger=i.Logger)},function(t,e,n){"use strict";(function(t){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},i=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))},s=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var c=a(n(68)),u=a(n(108)),p=a(n(111)),l=a(n(112)),h=a(n(113)),f=a(n(63)),d=a(n(1)),y=a(n(25)),v=n(7),g=a(n(62)),m=function(){function e(t){void 0===t&&(t={}),this.oauth2=new h.default,this.apiClient=null,this.cache=new f.default,this.logger=d.default}return e.prototype.setOffline=function(t){void 0===t&&(t=!1),u.default.isOffline=t,p.default.isOffline=t},e.prototype.setReconnectOnError=function(t){this.reconnectOnError=t},e.prototype.setNetworkConnectivityDispatcher=function(t){t&&t.hasOwnProperty("forceCheckNetworkConnectivity")&&(u.default.setNetworkConnectivityDispatcher(t),p.default.setNetworkConnectivityDispatcher(t))},e.prototype.init=function(e){return i(this,void 0,void 0,(function(){var n,o,r,i,a,u,p,l,h=this;return s(this,(function(s){switch(s.label){case 0:if(!e)throw new Error("options with appId and appSecret must be provided.");return[4,e];case 1:if(n=s.sent(),o=n.appId,r=n.appSecret,i=n.logLevel,a=n.tlsAuth,u=n.basePath,p=n.accessToken,l=n.reconnectOnError,!o&&!p)throw new Error("appId is required.");if(!r&&!p)throw new Error("appSecret is required.");return i&&d.default.setLevel(i),l&&this.setReconnectOnError(!0),!a&&y.default&&(t.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),this.basePath=u,d.default.trace("Initializing SDK with options: ",e),[2,new Promise((function(t,n){h.oauth2.init(e.appId,e.appSecret,e.accessToken).then((function(){var e=new v.ApiClient;(u||u&&u!==h.oauth2.apiClient.basePath)&&(e.basePath=u),e.authentications=h.oauth2.apiClient.authentications,h.endpointClient=new c.default({},e),t()})).catch((function(t){return n(t)}))}))]}}))}))},e.prototype.createStream=function(t){return void 0===t&&(t={}),i(this,void 0,void 0,(function(){var e,n=this;return s(this,(function(a){if(!this.oauth2)throw new Error("SDK is not initialized or failed during initialization.");return t.basePath=t.basePath||this.basePath,t.id||(d.default.warn("No 'id' detected. Generating a UUID. Reference 'connectionId' property of the resolved object."),t.id=v4()),!t.reconnectOnError&&this.reconnectOnError&&(t.reconnectOnError=!0),(e=this.cache.get(t.id))||(e=new u.default(t,this.oauth2,!1,{onClose:function(){n.cache.remove(t.id)}}),this.cache.set(t.id,e)),[2,new Promise((function(a,c){var u=0;setTimeout(function p(){return i(n,void 0,void 0,(function(){var n=this;return s(this,(function(l){switch(l.label){case 0:return u<4?(d.default.info("Retry attempt: ",u,this.oauth2),this.oauth2&&this.oauth2.activeToken?[4,this.oauth2.refreshAuthToken()]:[3,2]):[3,4];case 1:return l.sent(),e.connect((function(u){return i(n,void 0,void 0,(function(){var n=this;return s(this,(function(p){return u?c(u):a({stop:function(){return i(n,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.stopRequest()];case 1:return(t=n.sent())?(d.default.info("Realtime request stopped."),delete t.type,[2,t]):[2,{}];case 2:throw n.sent();case 3:return[2]}}))}))},start:function(t){return t&&"object"===(void 0===t?"undefined":o(t))&&(e.options=r(r({},e.options||{}),t)),new Promise((function(t,n){e.sendStart(t,n)}))},sendAudio:function(t){e.sendAudio(t)},sendJSON:function(t){e.sendAudio(t)},close:function(){e.webSocket.disconnect(),n.cache.remove(t.id)},connectionId:e.id,conversationId:e.conversationId}),[2]}))}))})),[3,3];case 2:d.default.info("Active Token not found."),u++,setTimeout(p.bind(this),1e3*u),l.label=3;case 3:return[3,5];case 4:c({message:"Could not connect to real-time api after 4 retries."}),l.label=5;case 5:return[2]}}))}))}.bind(n),0)}))]}))}))},e.prototype.startRealtimeRequest=function(t){return void 0===t&&(t={}),i(this,void 0,void 0,(function(){var e,n,o=this;return s(this,(function(r){if(!this.oauth2)throw new Error("SDK is not initialized or failed during initialization.");return t.basePath=t.basePath||this.basePath,(e=this.cache.get(t.id))||(e=new u.default(t,this.oauth2,!0,{_onClose:function(){o.cache.remove(t.id)}}),this.cache.set(t.id,e)),n=function(n,r){d.default.info("Starting request."),e.startRequest().then((function(r){d.default.info("Realtime request started: ".concat(r)),n({stop:function(){return new Promise((function(n,r){e.stopRequest().then((function(e){d.default.info("Realtime request stopped."),e&&delete e.type,o.cache.remove(t.id),n(e)})).catch((function(e){o.cache.remove(t.id),r(e)}))}))},sendAudio:function(t){e.sendAudio(t)},connectionId:e.id,conversationId:r})})).catch((function(t){r(t)}))},[2,new Promise((function(t,r){var a=0;setTimeout(function c(){return i(o,void 0,void 0,(function(){return s(this,(function(o){switch(o.label){case 0:return a<4?(d.default.info("Retry attempt: ",a,this.oauth2),this.oauth2&&this.oauth2.activeToken?[4,this.oauth2.refreshAuthToken()]:[3,2]):[3,4];case 1:return o.sent(),e.connect(),n(t,r),[3,3];case 2:d.default.info("Active Token not found."),a++,setTimeout(c.bind(this),1e3*a),o.label=3;case 3:return[3,5];case 4:r({message:"Could not connect to real-time api after 4 retries."}),o.label=5;case 5:return[2]}}))}))}.bind(o),0)}))]}))}))},e.prototype.startEndpoint=function(t,e){return i(this,void 0,void 0,(function(){var n,o,r,a,c,u,l,h,f,d,y,v,g=this;return s(this,(function(m){if(!t)throw new Error("options must be provided.");if(n=t.endpoint,o=t.validationToken,r=t.actions,a=t.intents,c=t.enableEvents,u=t.data,l=t.endpointWebhookUrl,h=t.headers,f=t.pushSpeakerEvents,d=t.languages,y=t.timezone,!n)throw new Error("endpoint is required.");if(!this.endpointClient)throw new Error("SDK is not initialized or failed during initialization.");return d&&d.length>0&&(v=d.map((function(t){return{code:t}}))),y&&(u||(u={session:{}}),u.session.location={timeZone:{name:y}}),[2,new Promise((function(t,d){return i(g,void 0,void 0,(function(){var i=this;return s(this,(function(s){switch(s.label){case 0:return[4,this.oauth2.refreshAuthToken()];case 1:return s.sent(),this.endpointClient.startEndpoint({endpoint:n,validationToken:o,actions:r,intents:a,enableEvents:c,data:u,endpointWebhookUrl:l,headers:h,pushSpeakerEvents:f,languages:v}).then((function(n){e&&new p.default({callback:e,id:n.connectionId,basePath:i.basePath},i.oauth2).connect();t(n)})).catch((function(t){d(t)})),[2]}}))}))}))]}))}))},e.prototype.stopEndpoint=function(t){return i(this,void 0,void 0,(function(){var e,n,o,r,i=this;return s(this,(function(s){switch(s.label){case 0:return[4,this.oauth2.refreshAuthToken()];case 1:if(s.sent(),!t)throw new Error("options must be provided.");if(e=t.connectionId,n=t.actions,o=t.data,!e)throw new Error("connectionId is required to stop the endpoint connection.");if(!this.endpointClient)throw new Error("SDK is not initialized or was failed during initialization.");return this.cache.contains(e)&&(r=this.cache.get(e))&&r.eventApi.webSocketStatus===g.default.getWebSocketConnectionStatuses().connected&&this.pushEventOnConnection(e,new l.default({timestamp:(new Date).toISOString(),topic:l.default.topics().speaker}).toJSON()),[2,new Promise((function(t,r){i.endpointClient.stopEndpoint({connectionId:e,actions:n,data:o}).then((function(e){t(e)})).catch((function(t){r(t)}))}))]}}))}))},e.prototype.subscribeToConnection=function(t,e){return i(this,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return"function"==typeof e&&(e={handlers:{onMessage:e}}),n=new p.default({options:e,id:t,basePath:this.basePath,isStreaming:!1},this.oauth2),[4,this.oauth2.refreshAuthToken()];case 1:return o.sent(),[2,n.connect()]}}))}))},e.prototype.subscribeToStream=function(t,e){return i(this,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return"function"==typeof e&&(e={handlers:{onMessage:e}}),!e.reconnectOnError&&this.reconnectOnError&&(e.reconnectOnError=!0),n=new p.default({options:e,id:t,basePath:this.basePath,isStreaming:!0},this.oauth2),[4,this.oauth2.refreshAuthToken()];case 1:return o.sent(),[4,new Promise((function(t){n.connect(t)}))];case 2:return o.sent(),[2,{close:function(){return n.disconnect()}}]}}))}))},e.prototype.pushEventOnConnection=function(t,e,n){return i(this,void 0,void 0,(function(){var o=this;return s(this,(function(r){return[2,new Promise((function(r,i){if(o.cache.contains(t)){var s=o.cache.get(t);if(s)if("active"===s.status)s.pushEvent(e,(function(t){t?(n&&n(t),i(t)):(n&&n(),r())}));else if("closed"===s.status){var a={message:"Connection with connectionId '".concat(t,"' has been stopped. Cannot push an event on the stopped connection.")};n&&n(a),i(a)}else{a={message:"Connection with connectionId '".concat(t,"' is in unexpected state.")};n&&n(a),i(a)}else{a={message:"Invalid connection by connectionId '".concat(t,"' detected.")};n&&n(a),i(a)}}else{a={message:"No connection by connectionId '".concat(t,"' found.")};n&&n(a),i(a)}}))]}))}))},e}();e.default=m}).call(this,n(26))},function(t,e,n){"use strict";var o=Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]},r=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var a=n(7),c=s(n(61)),u=i(n(95)),p=s(n(63)),l=n(7),h=s(n(8)),f=s(n(1)),d=function(){function t(t,e){void 0===t&&(t={}),e?this.apiClient=e:(this.apiClient=new l.ApiClient,this.apiClient.basePath=t.basePath||h.default.basePath),this.connectionToEndpointApi=new a.ConnectionToEndpointApi(this.apiClient),this.cache=new p.default}return t.validateActions=function(t){if(!t||!Array.isArray(t))throw new Error("actions should be an array.");var e=t.filter((function(t){return!t.invokeOn||!t.name}));if(e.length>0)throw new Error(JSON.stringify({message:"Invalid actions detected. Count: ".concat(e.length),invalidActions:e},null,2))},t.prototype.startEndpoint=function(t){var e=this;if(!t)throw new Error("endpoint configuration is required.");var n=t.endpoint,o=t.actions,r=t.intents,i=t.data,s=t.validationToken,a=t.endpointWebhookUrl,p=t.headers,l=t.pushSpeakerEvents,h=t.languages;if(!n.type)throw new Error("endpoint type is required.");if("pstn"===n.type.toLowerCase()){if(!n.phoneNumber)throw new Error("phoneNumber is required when type = 'pstn'.")}else{if("sip"!==n.type.toLowerCase())throw new Error("endpoint.type = '".concat(n.type,"' is not valid. Supported types are ['pstn' , 'sip']"));if(!n.uri)throw new Error("uri is required when type = 'sip'.");n.providerName||(n.providerName="AnyMeeting"),n.transportConfig||(n.transportConfig="transport=UDP;providerName=".concat(n.providerName,";audioTransport=RTP"))}return new Promise((function(t,f){e.connectToEndpoint("start",n,o,r,i,null,s,a,p,h).then((function(n){var o=n.connectionId,r=n.resultWebSocketUrl,i=n.eventUrl,s=n.conversationId;if(o){var a=new u.default({connectionId:o,webSocketUrl:r,conversationId:s,eventUrl:i,apiClient:e.apiClient,status:u.status.active,pushSpeakerEvents:l});e.cache.set(o,a),t(a)}else f({message:"No connectionId detected in successful response."})})).catch((function(t){f(c.default.getError(t))}))}))},t.prototype.stopEndpoint=function(t){var e=this;if(!t)throw new Error("endpoint configuration is required.");var n=t.endpoint,o=t.actions,r=t.data,i=t.connectionId;return new Promise((function(t,s){e.connectToEndpoint("stop",n,o,null,r,i).then((function(n){var o=n.connectionId,r=n.summaryInfo,i=n.conversationId;if(o)if(e.cache.contains(o)){var a=e.cache.get(o);a.summaryInfo=r,a.conversationId=i,a.status=u.status.closed,t(a)}else t({summaryInfo:r,conversationId:i,connectionId:o});else s({message:"No connectionId detected in successful response."})})).catch((function(t){s(t)}))}))},t.prototype.connectToEndpoint=function(e,n,o,r,i,s,u,p,l,h){var d,y=this;if(!e)throw new Error("operation is required.");o&&t.validateActions(o),d=s?{connectionId:s,operation:e,endpoint:n,validationToken:u,actions:o,data:i}:{operation:e,endpoint:n,actions:o,validationToken:u,endpointWebhookUrl:p,intents:r,headers:l,data:i,languages:h};var v=a.EndpointConnectRequest.constructFromObject(d);return new Promise((function(t,e){try{y.connectionToEndpointApi.connectToEndpoint(v,(function(n,o,r){n?e(c.default.getError(n)):o?t(o):e(c.default.getError())}))}catch(t){f.default.trace(t)}}))},t}();e.default=d},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],o=e[1];return 3*(n+o)/4-o},e.toByteArray=function(t){var e,n,o=u(t),s=o[0],a=o[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),p=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[p++]=e>>16&255,c[p++]=e>>8&255,c[p++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[p++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[p++]=e>>8&255,c[p++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],s=0,a=n-r;s<a;s+=16383)i.push(p(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],i.push(o[e>>2]+o[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"="));return i.join("")};for(var o=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)o[a]=s[a],r[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function p(t,e,n){for(var r,i,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(o[(i=r)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,o,r){var i,s,a=8*r-o-1,c=(1<<a)-1,u=c>>1,p=-7,l=n?r-1:0,h=n?-1:1,f=t[e+l];for(l+=h,i=f&(1<<-p)-1,f>>=-p,p+=a;p>0;i=256*i+t[e+l],l+=h,p-=8);for(s=i&(1<<-p)-1,i>>=-p,p+=o;p>0;s=256*s+t[e+l],l+=h,p-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,o),i-=u}return(f?-1:1)*s*Math.pow(2,i-o)},e.write=function(t,e,n,o,r,i){var s,a,c,u=8*i-r-1,p=(1<<u)-1,l=p>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:i-1,d=o?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=p):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=p?(a=0,s=p):s+l>=1?(a=(e*c-1)*Math.pow(2,r),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,r),s=0));r>=8;t[n+f]=255&a,f+=d,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;t[n+f]=255&s,f+=d,s/=256,u-=8);t[n+f-d]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){var o;"undefined"!=typeof window?o=window:"undefined"!=typeof self?o=self:(console.warn("Using browser-only version of superagent in non-browser environment"),o=this);var r=n(73),i=n(74),s=n(9),a=n(75),c=n(76),u=n(78);function p(){}var l=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=m,l.getXHR=function(){if(!(!o.XMLHttpRequest||o.location&&"file:"==o.location.protocol&&o.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only verison of superagent could not find XHR")};var h="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function f(t){if(!s(t))return t;var e=[];for(var n in t)d(e,n,t[n]);return e.join("&")}function d(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach((function(n){d(t,e,n)}));else if(s(n))for(var o in n)d(t,e+"["+o+"]",n[o]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function y(t){for(var e,n,o={},r=t.split("&"),i=0,s=r.length;i<s;++i)-1==(n=(e=r[i]).indexOf("="))?o[decodeURIComponent(e)]="":o[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return o}function v(t){return/[\/+]json\b/.test(t)}function g(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){var e,n,o,r,i=t.split(/\r?\n/),s={};i.pop();for(var a=0,c=i.length;a<c;++a)e=(n=i[a]).indexOf(":"),o=n.slice(0,e).toLowerCase(),r=h(n.slice(e+1)),s[o]=r;return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function m(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,o=null;try{o=new g(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",o);try{n._isResponseOK(o)||((t=new Error(o.statusText||"Unsuccessful HTTP response")).original=e,t.response=o,t.status=o.status)}catch(e){t=e}t?n.callback(t,o):n.callback(null,o)}))}function w(t,e,n){var o=l("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&o.send(e),n&&o.end(n),o}l.serializeObject=f,l.parseString=y,l.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":y,"application/json":JSON.parse},c(g.prototype),g.prototype._parseBody=function(t){var e=l.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&v(this.type)&&(e=l.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},g.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,o="cannot "+e+" "+n+" ("+this.status+")",r=new Error(o);return r.status=this.status,r.method=e,r.url=n,r},l.Response=g,r(m.prototype),i(m.prototype),m.prototype.type=function(t){return this.set("Content-Type",l.types[t]||t),this},m.prototype.accept=function(t){return this.set("Accept",l.types[t]||t),this},m.prototype.auth=function(t,e,n){switch("object"==typeof e&&null!==e&&(n=e),n||(n={type:"function"==typeof btoa?"basic":"auto"}),n.type){case"basic":this.set("Authorization","Basic "+btoa(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},m.prototype.query=function(t){return"string"!=typeof t&&(t=f(t)),t&&this._query.push(t),this},m.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},m.prototype._getFormData=function(){return this._formData||(this._formData=new o.FormData),this._formData},m.prototype.callback=function(t,e){if(this._maxRetries&&this._retries++<this._maxRetries&&u(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},m.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},m.prototype.buffer=m.prototype.ca=m.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},m.prototype.pipe=m.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},m.prototype._appendQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");a(this._sort)?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},m.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},m.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||p,this._appendQueryString(),this._end()},m.prototype._end=function(){var t=this,e=this.xhr=l.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var o;try{o=e.status}catch(t){o=0}if(!o){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var o=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.onprogress=o.bind(null,"download"),e.upload&&(e.upload.onprogress=o.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var r=this._header["content-type"],i=this._serializer||l.serialize[r?r.split(";")[0]:""];!i&&v(r)&&(i=l.serialize["application/json"]),i&&(n=i(n))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&e.setRequestHeader(s,this.header[s]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},l.get=function(t,e,n){var o=l("GET",t);return"function"==typeof e&&(n=e,e=null),e&&o.query(e),n&&o.end(n),o},l.head=function(t,e,n){var o=l("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&o.send(e),n&&o.end(n),o},l.options=function(t,e,n){var o=l("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&o.send(e),n&&o.end(n),o},l.del=w,l.delete=w,l.patch=function(t,e,n){var o=l("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&o.send(e),n&&o.end(n),o},l.post=function(t,e,n){var o=l("POST",t);return"function"==typeof e&&(n=e,e=null),e&&o.send(e),n&&o.end(n),o},l.put=function(t,e,n){var o=l("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&o.send(e),n&&o.end(n),o}},function(t,e,n){function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}t.exports=o,o.prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},o.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<o.length;r++)if((n=o[r])===e||n.fn===e){o.splice(r,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(n){o=0;for(var r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,e)}return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var o=n(9);function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(t){return this._parser=t,this},r.prototype.responseType=function(t){return this._responseType=t,this},r.prototype.serialize=function(t){return this._serializer=t,this},r.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},r.prototype.retry=function(t){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){n.end((function(n,o){n?e(n):t(o)}))}))}return this._fullfilledPromise.then(t,e)},r.prototype.catch=function(t){return this.then(void 0,t)},r.prototype.use=function(t){return t(this),this},r.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},r.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},r.prototype.get=function(t){return this._header[t.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},r.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},r.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),o(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var r in e)this.field(t,e[r]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},r.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},r.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},r.prototype.redirects=function(t){return this._maxRedirects=t,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(t){var e=o(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&o(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||n||this.type("json"),this},r.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},r.prototype._timeoutError=function(t,e,n){if(!this._aborted){var o=new Error(t+e+"ms exceeded");o.timeout=e,o.code="ECONNABORTED",o.errno=n,this.timedout=!0,this.abort(),this.callback(o)}},r.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(t,e,n){var o=n(9);t.exports=function(t){return"[object Function]"===(o(t)?Object.prototype.toString.call(t):"")}},function(t,e,n){var o=n(77);function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.get=function(t){return this.header[t.toLowerCase()]},r.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=o.type(e);var n=o.params(e);for(var r in n)this[r]=n[r];this.links={};try{t.link&&(this.links=o.parseLinks(t.link))}catch(t){}},r.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t}},function(t,e){e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce((function(t,e){var n=e.split(/ *= */),o=n.shift(),r=n.shift();return o&&r&&(t[o]=r),t}),{})},e.parseLinks=function(t){return t.split(/ *, */).reduce((function(t,e){var n=e.split(/ *; */),o=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=o,t}),{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&delete t.cookie,t}},function(t,e){var n=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];t.exports=function(t,e){return!!(t&&t.code&&~n.indexOf(t.code))||(!!(e&&e.status&&e.status>=500)||(!(!t||!("timeout"in t)||"ECONNABORTED"!=t.code)||!(!t||!("crossDomain"in t))))}},function(t,e,n){"use strict";e.decode=e.parse=n(80),e.encode=e.stringify=n(81)},function(t,e,n){"use strict";function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var p=0;p<u;++p){var l,h,f,d,y=t[p].replace(a,"%20"),v=y.indexOf(n);v>=0?(l=y.substr(0,v),h=y.substr(v+1)):(l=y,h=""),f=decodeURIComponent(l),d=decodeURIComponent(h),o(s,f)?r(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),(function(s){var a=encodeURIComponent(o(s))+n;return r(t[s])?i(t[s],(function(t){return a+encodeURIComponent(o(t))})).join(e):a+encodeURIComponent(o(t[s]))})).join(e):a?encodeURIComponent(o(a))+n+encodeURIComponent(o(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){var o,r,i;r=[n(0),n(10)],void 0===(i="function"==typeof(o=function(t,e){"use strict";return function(n){this.apiClient=n||t.instance,this.getActionItemsByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getActionItemsByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/action-items","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(6),n(52),n(58),n(59),n(60)],void 0===(i="function"==typeof(o=function(t,e,n,o,r,i){"use strict";return function(n){this.apiClient=n||t.instance,this.generateToken=function(t,n){var o=t;if(null==t)throw new e("Missing the required parameter 'body' when calling generateToken");var r=i;return this.apiClient.callApi("/oauth2/token:generate","POST",{},{},{},{},{},o,[],["application/json"],["application/json"],r,n)},this.refreshToken=function(t,n){var o=t;if(null==t)throw new e("Missing the required parameter 'body' when calling refreshToken");var r=i;return this.apiClient.callApi("/oauth2/token:refresh","POST",{},{},{},{},{},o,["jwt"],["application/json"],["application/json"],r,n)},this.revokeToken=function(t,n){var o=t;if(null==t)throw new e("Missing the required parameter 'body' when calling revokeToken");return this.apiClient.callApi("/oauth2/token:revoke","DELETE",{},{},{},{},{},o,["jwt"],["application/json"],["application/json"],null,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(42),n(49),n(6)],void 0===(i="function"==typeof(o=function(t,e,n,o){"use strict";return function(e){this.apiClient=e||t.instance,this.connectToEndpoint=function(t,e){var r=t;if(null==t)throw new o("Missing the required parameter 'body' when calling connectToEndpoint");var i=n;return this.apiClient.callApi("/v1/endpoint:connect","POST",{},{},{},{},{},r,["jwt"],["application/json"],["application/json"],i,e)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(10),n(34),n(13),n(17),n(19),n(20),n(21),n(22),n(23)],void 0===(i="function"==typeof(o=function(t,e,n,o,r,i,s,a,c,u){"use strict";return function(p){this.apiClient=p||t.instance,this.getActionItemsByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getActionItemsByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/action-items","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)},this.getConversationById=function(t,e){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getConversationById");var o={conversationId:t},r=n;return this.apiClient.callApi("/v1/conversations/{conversationId}","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,e)},this.getFollowUpsByConversationId=function(t,e){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getFollowUpsByConversationId");var n={conversationId:t},r=o;return this.apiClient.callApi("/v1/conversations/{conversationId}/follow-ups","GET",n,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,e)},this.getInsightsByConversationId=function(t,e){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getInsightsByConversationId");var n={conversationId:t},o=r;return this.apiClient.callApi("/v1/conversations/{conversationId}/insights","GET",n,{},{},{},{},null,["jwt"],["application/json"],["application/json"],o,e)},this.getIntentsByConversationId=function(t,e){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getIntentsByConversationId");var n={conversationId:t},o=i;return this.apiClient.callApi("/v1/conversations/{conversationId}/intents","GET",n,{},{},{},{},null,["jwt"],["application/json"],["application/json"],o,e)},this.getMembersByConversationId=function(t,e){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getMembersByConversationId");var n={conversationId:t},o=s;return this.apiClient.callApi("/v1/conversations/{conversationId}/members","GET",n,{},{},{},{},null,["jwt"],["application/json"],["application/json"],o,e)},this.getMessagesByConversationId=function(t,e){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getMessagesByConversationId");var n={conversationId:t},o=a;return this.apiClient.callApi("/v1/conversations/{conversationId}/messages","GET",n,{},{},{},{},null,["jwt"],["application/json"],["application/json"],o,e)},this.getQuestionsByConversationId=function(t,e){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getQuestionsByConversationId");var n={conversationId:t},o=c;return this.apiClient.callApi("/v1/conversations/{conversationId}/questions","GET",n,{},{},{},{},null,["jwt"],["application/json"],["application/json"],o,e)},this.getTopicsByConversationId=function(t,e){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getTopicsByConversationId");var n={conversationId:t},o=u;return this.apiClient.callApi("/v1/conversations/{conversationId}/topics","GET",n,{},{},{},{},null,["jwt"],["application/json"],["application/json"],o,e)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(6),n(51)],void 0===(i="function"==typeof(o=function(t,e,n){"use strict";return function(n){this.apiClient=n||t.instance,this.externalEventWebHook=function(t,n,o){var r=n;if(null==t)throw new e("Missing the required parameter 'connectionId' when calling externalEventWebHook");if(null==n)throw new e("Missing the required parameter 'body' when calling externalEventWebHook");var i={connectionId:t};return this.apiClient.callApi("/v1/event/{connectionId}","POST",i,{},{},{},{},r,["jwt"],["application/json"],["application/json"],null,o)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(13)],void 0===(i="function"==typeof(o=function(t,e){"use strict";return function(n){this.apiClient=n||t.instance,this.getFollowUpsByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getFollowUpsByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/follow-ups","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(17)],void 0===(i="function"==typeof(o=function(t,e){"use strict";return function(n){this.apiClient=n||t.instance,this.getInsightsByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getInsightsByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/insights","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(19)],void 0===(i="function"==typeof(o=function(t,e){"use strict";return function(n){this.apiClient=n||t.instance,this.getIntentsByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getIntentsByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/intents","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(55),n(57)],void 0===(i="function"==typeof(o=function(t,e,n){"use strict";return function(e){this.apiClient=e||t.instance,this.generateInsights=function(t,e){var o=t;if(null==t)throw new Error("Missing the required parameter 'body' when calling generateInsights");var r=n;return this.apiClient.callApi("/v1/insights","POST",{},{},{},{},{},o,["jwt"],["application/json"],["application/json"],r,e)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(20)],void 0===(i="function"==typeof(o=function(t,e){"use strict";return function(n){this.apiClient=n||t.instance,this.getMembersByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getMembersByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/members","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(21)],void 0===(i="function"==typeof(o=function(t,e){"use strict";return function(n){this.apiClient=n||t.instance,this.getMessagesByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getMessagesByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/messages","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(22)],void 0===(i="function"==typeof(o=function(t,e){"use strict";return function(n){this.apiClient=n||t.instance,this.getQuestionsByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getQuestionsByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/questions","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){var o,r,i;r=[n(0),n(23)],void 0===(i="function"==typeof(o=function(t,e){"use strict";return function(n){this.apiClient=n||t.instance,this.getTopicsByConversationId=function(t,n){if(null==t)throw new Error("Missing the required parameter 'conversationId' when calling getTopicsByConversationId");var o={conversationId:t},r=e;return this.apiClient.callApi("/v1/conversations/{conversationId}/topics","GET",o,{},{},{},{},null,["jwt"],["application/json"],["application/json"],r,n)}}})?o.apply(e,r):o)||(t.exports=i)},function(t,e,n){"use strict";var o=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.status=void 0;var r=o(n(62)),i=o(n(1));e.status={active:"active",inactive:"inactive",interrupted:"interrupted",closed:"closed"};var s=function(){function t(t){if(void 0===t&&(t={}),!t.connectionId)throw new Error("connectionId is required");this._connectionId=t.connectionId,this._webSocketUrl=t.webSocketUrl,this._eventUrl=t.eventUrl,this._status=t.status||e.status.inactive,this._summaryInfo=t.summaryInfo||null,this._conversationId=t.conversationId||null,this._subscribers={},this._pushSpeakerEvents=t.pushSpeakerEvents||!1;try{this._eventApi=new r.default(this,t.apiClient,{pushSpeakerEvents:this._pushSpeakerEvents})}catch(t){i.default.trace(t)}}return Object.defineProperty(t.prototype,"connectionId",{get:function(){return this._connectionId},set:function(t){this._connectionId=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webSocketUrl",{get:function(){return this._webSocketUrl},set:function(t){this._webSocketUrl=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventUrl",{get:function(){return this._eventUrl},set:function(t){this._eventUrl=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},set:function(t){this._status=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"summaryInfo",{get:function(){return this._summaryInfo},set:function(t){this._summaryInfo=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"conversationId",{get:function(){return this._conversationId},set:function(t){this._conversationId=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventApi",{get:function(){return this._eventApi},enumerable:!1,configurable:!0}),t.prototype.pushEvent=function(t,e){this._eventApi.pushEvent(t,e)},t.prototype.publish=function(t){var e=this;t&&this._subscribers.length>0&&this._subscribers.keys().forEach((function(n){return e._subscribers[n](t)}))},t.prototype.subscribe=function(t,e){1===arguments.length&&t,e&&"function"==typeof e&&(this._subscribers[t]=e)},t.prototype.unsubscribe=function(t){t?delete this._subscribers[t]:delete this._subscribers.default},t}();e.default=s},function(t,e,n){var o;if("object"==typeof globalThis)o=globalThis;else try{o=n(97)}catch(t){}finally{if(o||"undefined"==typeof window||(o=window),!o)throw new Error("Could not determine global this")}var r=o.WebSocket||o.MozWebSocket,i=n(98);function s(t,e){return e?new r(t,e):new r(t)}r&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(t){Object.defineProperty(s,t,{get:function(){return r[t]}})})),t.exports={w3cwebsocket:r?s:null,version:i}},function(t,e){var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(t,e,n){t.exports=n(99).version},function(t){t.exports=JSON.parse('{"_from":"websocket@^1.0.28","_id":"websocket@1.0.34","_inBundle":false,"_integrity":"sha512-PRDso2sGwF6kM75QykIesBijKSVceR6jL2G8NGYyq2XrItNC2P5/qL5XeR056GhA+Ly7JMFvJb9I312mJfmqnQ==","_location":"/websocket","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"websocket@^1.0.28","name":"websocket","escapedName":"websocket","rawSpec":"^1.0.28","saveSpec":null,"fetchSpec":"^1.0.28"},"_requiredBy":["/","/@symblai/symbl-js"],"_resolved":"https://registry.npmjs.org/websocket/-/websocket-1.0.34.tgz","_shasum":"2bdc2602c08bf2c82253b730655c0ef7dcab3111","_spec":"websocket@^1.0.28","_where":"/Users/adamvoliva/Code/symbl-node","author":{"name":"Brian McKelvey","email":"theturtle32@gmail.com","url":"https://github.com/theturtle32"},"browser":"lib/browser.js","bugs":{"url":"https://github.com/theturtle32/WebSocket-Node/issues"},"bundleDependencies":false,"config":{"verbose":false},"contributors":[{"name":"Iñaki Baz Castillo","email":"ibc@aliax.net","url":"http://dev.sipdoc.net"}],"dependencies":{"bufferutil":"^4.0.1","debug":"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2","yaeti":"^0.0.6"},"deprecated":false,"description":"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.","devDependencies":{"buffer-equal":"^1.0.0","gulp":"^4.0.2","gulp-jshint":"^2.0.4","jshint":"^2.0.0","jshint-stylish":"^2.2.1","tape":"^4.9.1"},"directories":{"lib":"./lib"},"engines":{"node":">=4.0.0"},"homepage":"https://github.com/theturtle32/WebSocket-Node","keywords":["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],"license":"Apache-2.0","main":"index","name":"websocket","repository":{"type":"git","url":"git+https://github.com/theturtle32/WebSocket-Node.git"},"scripts":{"gulp":"gulp","test":"tape test/unit/*.js"},"version":"1.0.34"}')},function(t,e,n){var o,r;!function(i,s){"use strict";void 0===(r="function"==typeof(o=function(){var t=function(){},e="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(n){return"debug"===n&&(n="log"),"undefined"!=typeof console&&("trace"===n&&e?r:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):t)}function s(e,o){for(var r=0;r<n.length;r++){var i=n[r];this[i]=r<e?t:this.methodFactory(i,e,o)}this.log=this.debug}function a(t,e,n){return function(){"undefined"!=typeof console&&(s.call(this,e,n),this[t].apply(this,arguments))}}function c(t,e,n){return i(t)||a.apply(this,arguments)}function u(t,e,o){var r,i=this;e=null==e?"WARN":e;var a="loglevel";function u(){var t;if("undefined"!=typeof window&&a){try{t=window.localStorage[a]}catch(t){}if(void 0===t)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(a)+"=");-1!==n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===i.levels[t]&&(t=void 0),t}}"string"==typeof t?a+=":"+t:"symbol"==typeof t&&(a=void 0),i.name=t,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=o||c,i.getLevel=function(){return r},i.setLevel=function(e,o){if("string"==typeof e&&void 0!==i.levels[e.toUpperCase()]&&(e=i.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(r=e,!1!==o&&function(t){var e=(n[t]||"silent").toUpperCase();if("undefined"!=typeof window&&a){try{return void(window.localStorage[a]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(a)+"="+e+";"}catch(t){}}}(e),s.call(i,e,t),"undefined"==typeof console&&e<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(t){e=t,u()||i.setLevel(t,!1)},i.resetLevel=function(){i.setLevel(e,!1),function(){if("undefined"!=typeof window&&a){try{return void window.localStorage.removeItem(a)}catch(t){}try{window.document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}()},i.enableAll=function(t){i.setLevel(i.levels.TRACE,t)},i.disableAll=function(t){i.setLevel(i.levels.SILENT,t)};var p=u();null==p&&(p=e),i.setLevel(p,!1)}var p=new u,l={};p.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=l[t];return e||(e=l[t]=new u(t,p.getLevel(),p.methodFactory)),e};var h="undefined"!=typeof window?window.log:void 0;return p.noConflict=function(){return"undefined"!=typeof window&&window.log===p&&(window.log=h),p},p.getLoggers=function(){return l},p.default=p,p})?o.call(e,n,e,t):o)||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(102),r=n(103),i=n(105),s=()=>{},a=new r.TimeoutError;e.default=class extends o{constructor(t){var e,n,o,r;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},t)).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(e=t.intervalCap)||void 0===e?void 0:e.toString())&&void 0!==n?n:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(r=null===(o=t.interval)||void 0===o?void 0:o.toString())&&void 0!==r?r:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=!0===t.throwOnTimeout,this._isPaused=!1===t.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(void 0===this._intervalId){const e=this._intervalEnd-t;if(!(e<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},e)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const e=this._queue.dequeue();return!!e&&(this.emit("active"),e(),t&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,e={}){return new Promise((n,o)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===e.timeout?t():r.default(Promise.resolve(t()),void 0===e.timeout?this._timeout:e.timeout,()=>{(void 0===e.throwOnTimeout?this._throwOnTimeout:e.throwOnTimeout)&&o(a)});n(await i)}catch(t){o(t)}this._next()},e),this._tryToStartAnother(),this.emit("add")})}async addAll(t,e){return Promise.all(t.map(async t=>this.add(t,e)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(t=>{const e=this._resolveEmpty;this._resolveEmpty=()=>{e(),t()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(t=>{const e=this._resolveIdle;this._resolveIdle=()=>{e(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty,r="~";function i(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,o||t,i),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function c(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)o.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,s=new Array(i);o<i;o++)s[o]=n[o].fn;return s},u.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,o,i,s){var a=r?r+t:t;if(!this._events[a])return!1;var c,u,p=this._events[a],l=arguments.length;if(p.fn){switch(p.once&&this.removeListener(t,p.fn,void 0,!0),l){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,e),!0;case 3:return p.fn.call(p.context,e,n),!0;case 4:return p.fn.call(p.context,e,n,o),!0;case 5:return p.fn.call(p.context,e,n,o,i),!0;case 6:return p.fn.call(p.context,e,n,o,i,s),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];p.fn.apply(p.context,c)}else{var h,f=p.length;for(u=0;u<f;u++)switch(p[u].once&&this.removeListener(t,p[u].fn,void 0,!0),l){case 1:p[u].fn.call(p[u].context);break;case 2:p[u].fn.call(p[u].context,e);break;case 3:p[u].fn.call(p[u].context,e,n);break;case 4:p[u].fn.call(p[u].context,e,n,o);break;default:if(!c)for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];p[u].fn.apply(p[u].context,c)}}return!0},u.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,o){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return c(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||c(this,i);else{for(var a=0,u=[],p=s.length;a<p;a++)(s[a].fn!==e||o&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[i]=1===u.length?u[0]:u:c(this,i)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&c(this,e)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u},function(t,e,n){"use strict";const o=n(104);class r extends Error{constructor(t){super(t),this.name="TimeoutError"}}const i=(t,e,n)=>new Promise((i,s)=>{if("number"!=typeof e||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0)return void i(t);const a=setTimeout(()=>{if("function"==typeof n){try{i(n())}catch(t){s(t)}return}const o=n instanceof Error?n:new r("string"==typeof n?n:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),s(o)},e);o(t.then(i,s),()=>{clearTimeout(a)})});t.exports=i,t.exports.default=i,t.exports.TimeoutError=r},function(t,e,n){"use strict";t.exports=(t,e)=>(e=e||(()=>{}),t.then(t=>new Promise(t=>{t(e())}).then(()=>t),t=>new Promise(t=>{t(e())}).then(()=>{throw t})))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(106);e.default=class{constructor(){this._queue=[]}enqueue(t,e){const n={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)return void this._queue.push(n);const r=o.default(this._queue,n,(t,e)=>e.priority-t.priority);this._queue.splice(r,0,n)}dequeue(){const t=this._queue.shift();return null==t?void 0:t.run}filter(t){return this._queue.filter(e=>e.priority===t.priority).map(t=>t.run)}get size(){return this._queue.length}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){let o=0,r=t.length;for(;r>0;){const i=r/2|0;let s=o+i;n(t[s],e)<=0?(o=++s,r-=i+1):r=i}return o}},function(t,e,n){"use strict";(function(t){e.__esModule=!0;var n=function(){function e(){void 0!==t?t.clientSdkStore?this.store=t.clientSdkStore:(this.store={},t.clientSdkStore=this.store):"undefined"!=typeof window&&(window.clientSdkStore?this.store=window.clientSdkStore:(this.store={},window.clientSdkStore=this.store)),this.get=this.get.bind(this),this.set=this.set.bind(this),this.remove=this.remove.bind(this)}return e.prototype.contains=function(t){return this.store.hasOwnProperty(t)},e.prototype.get=function(t){return this.store[t]},e.prototype.set=function(t,e){this.store[t]=e},e.prototype.remove=function(t){delete this.store[t]},e}();e.default=n}).call(this,n(4))},function(t,e,n){"use strict";(function(t){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},i=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))},s=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var c=a(n(8)),u=a(n(64)),p=a(n(24)),l=a(n(1)),h=n(65),f="closed",d="connected",y="connecting",v="error",g=function(){function e(t,e,n,o){void 0===t&&(t={}),void 0===n&&(n=!1),void 0===o&&(o={});var i=this,s=t.basePath||c.default.basePath;s=s.replace(/^http/,"ws");var a="".concat(s,"/v1/realtime/insights");if(!e)throw new Error("oauth2 is required for Real-time API.");var p=t.id;this.id=p||(0,h.v4)(),this.usePreviousGenerationResponses=n,t.backoff?this.backoff=new u.default(t.backoff.max,t.backoff.min,t.backoff.factor,t.backoff.maxRetries):this.backoff=new u.default,this.webSocketUrl="".concat(a,"/").concat(this.id),this.options=t,this.referenceIds=[(0,h.v4)()],this.connect=this.connect.bind(this),this._connect=this._connect.bind(this),this.reConnect=this.reConnect.bind(this),this.onConnectWebSocket=this.onConnectWebSocket.bind(this),this.onErrorWebSocket=this.onErrorWebSocket.bind(this),this.onMessageWebSocket=this.onMessageWebSocket.bind(this),this.onCloseWebSocket=this.onCloseWebSocket.bind(this),this.onForceClose=this.onForceClose.bind(this),this.onStartedListening=this.onStartedListening.bind(this),this.onSpeechDetected=this.onSpeechDetected.bind(this),this.onRequestStart=this.onRequestStart.bind(this),this.onRequestStop=this.onRequestStop.bind(this),this.onMessageResponse=this.onMessageResponse.bind(this),this.onInsightResponse=this.onInsightResponse.bind(this),this.onTrackerResponse=this.onTrackerResponse.bind(this),this.onTopicResponse=this.onTopicResponse.bind(this),this.onDataReceived=this.onDataReceived.bind(this),this.sendAudio=this.sendAudio.bind(this),this.sendStart=this.sendStart.bind(this),this.startRequest=this.startRequest.bind(this),this.oauth2=e,this.handlers=r(r({},this.options.handlers||{}),o),this.retryCount=0,this.requestStarted=!1,this.conversationId=new Promise((function(t,e){i.conversationIdSuccess=t,i.conversationIdError=e}))}return e.setNetworkConnectivityDispatcher=function(t){e.networkConnectivityDispatcher=t},e.prototype.onErrorWebSocket=function(t){this.webSocketStatus=v,l.default.error(t),this.onConnectCallback&&("function"==typeof this.onConnectCallback?this.onConnectCallback(t):l.default.warn("onConnectCallback is not a function"))},e.prototype.onMessageWebSocket=function(e){var n=this;if(e){var o=JSON.parse(e);if("message"===o.type)switch(o.message.type){case"recognition_started":this.requestStarted||(this.requestStarted=!0),this.onRequestStart(o.message);break;case"recognition_result":this.onSpeechDetected(o.message);break;case"started_listening":this.requestStarted=!0,this.onStartedListening(o.message);break;case"recognition_stopped":this.onRequestStop();break;case"conversation_completed":this.onRequestStop(o.message),this.handlers.onConversationCompleted&&t((function(){n.handlers.onConversationCompleted(o)}));break;case"error":this.onRequestError(o)}else switch(o.type){case"message_response":this.onMessageResponse(o.messages);break;case"insight_response":this.onInsightResponse(o.insights);break;case"tracker_response":this.onTrackerResponse(o);break;case"topic_response":this.onTopicResponse(o.topics)}this.onDataReceived(o)}},e.prototype.connect=function(t){return i(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.backoff.run(this._connect,this,[t,this.referenceIds[this.referenceIds.length-1]],!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),l.default.error("Exception caught while retrying to connect: ".concat(e&&e.message),e),this.handlers.onReconnectFail&&"function"==typeof this.handlers.onReconnectFail&&this.handlers.onReconnectFail(e),[3,3];case 3:return[2]}}))}))},e.prototype.reConnect=function(t){return void 0===t&&(t=!1),i(this,void 0,void 0,(function(){var n,o,r,i=this;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),this.backoff.reset(),t&&e.networkConnectivityDispatcher&&(l.default.info("Rechecking network connectivity"),e.isOffline=!0,e.networkConnectivityDispatcher.forceCheckNetworkConnectivity()),e.isOffline?[3,2]:(l.default.info("Reconnecting..."),[4,this.oauth2.refreshAuthToken()]);case 1:return s.sent(),this.referenceIds.push((0,h.v4)()),this.connect(this.onConnectCallback).then((function(){i.requestStarted&&i.startRequest()})),[3,3];case 2:l.default.info("Not online. Reconnect delayed."),n=900,o=setInterval((function(){if(e.isOffline)if(n>0)n-=1;else{clearInterval(o);var t="Max attempts to reconnect exceeded! Not attempting reconnection";l.default.error(t),i.handlers.onReconnectFail&&"function"==typeof i.handlers.onReconnectFail&&i.handlers.onReconnectFail(new Error(t))}else clearInterval(o),i.reConnect()}),2e3),s.label=3;case 3:return[3,5];case 4:return r=s.sent(),l.default.error("Exception caught while reconnecting: ".concat(r&&r.message),r),[3,5];case 5:return[2]}}))}))},e.prototype.onForceClose=function(t){this.webSocketStatus=f,l.default.info("Force closed WebSocket due to network issues -- Attempting to reconnect"),this.options.reconnectOnError?this.referenceIds.includes(t)?(l.default.debug("Attempting reconnect after error."),this.referenceIds.splice(this.referenceIds.indexOf(t),1),this.reConnect(!0)):l.default.debug("Reconnection already handled for socket with connectionId: ".concat(this.id)):l.default.debug("Reconnection not enabled for socket with connectionId: ".concat(this.id))},e.prototype.onCloseWebSocket=function(e){var n=this;return function(o){n.webSocketStatus=f,l.default.info("WebSocket connection closed",o),!n.options.reconnectOnError||!1!==o.wasClean&&1005!==o.code&&3006!==o.code?(l.default.debug("WebSocket Closed."),n.handlers&&n.handlers.onClose&&t((function(){n.handlers.onClose(o)}))):n.referenceIds.includes(e)?(l.default.debug("Attempting reconnect after error."),n.referenceIds.splice(n.referenceIds.indexOf(e),1),n.reConnect(o.handshakeFailed)):l.default.debug("Reconnection already handled for socket with connectionId: ".concat(n.id))}},e.prototype.onConnectWebSocket=function(){l.default.debug("WebSocket Connected."),this.webSocketStatus=d,this.onConnectCallback&&(l.default.debug("Invoking this.onConnectCallback",o(this.onConnectCallback)),"function"==typeof this.onConnectCallback?(this.onConnectCallback(null),this.onConnectCallback=null):l.default.warn("onConnectCallback is not a function"))},e.prototype._connect=function(t,e){var n=this;return new Promise((function(o){n.webSocketStatus!==d?(l.default.debug("WebSocket Connecting."),n.webSocketStatus!==y&&(n.webSocketStatus=y),t&&(n.onConnectCallback=t),n.webSocket=new p.default({accessToken:n.oauth2.activeToken,onClose:n.onCloseWebSocket(e),onConnect:n.onConnectWebSocket,onError:n.onErrorWebSocket,onMessage:n.onMessageWebSocket,url:n.webSocketUrl,onConnectSuccess:o,onForceClose:n.onForceClose,reconnectOnError:n.options.reconnectOnError,referenceId:e})):n.webSocketStatus===d&&o()}))},e.prototype.onStartedListening=function(e){var n=this;this.usePreviousGenerationResponses?l.default.info("Using the older version of 'createStream' - 'startRealtimeRequest'. 'startRealtimeRequest' will be deprecated in the future in favor of new function 'createStream' that provides lower latencies in processing events."):this.requestStartedResolve&&(this.requestStartedResolve(),this.requestStartedResolve=null),this.handlers.onStartedListening&&t((function(){n.handlers.onStartedListening(e)}))},e.prototype.onRequestStart=function(e){var n=this;if(this.usePreviousGenerationResponses)this.requestStartedResolve&&(this.conversationIdSuccess(e.data&&e.data.conversationId),this.requestStartedResolve(e.data&&e.data.conversationId),this.requestStartedResolve=null);else{var o=e.data&&e.data.conversationId;o&&this.conversationIdSuccess(o)}this.handlers.onRequestStart&&t((function(){n.handlers.onRequestStart(e)}))},e.prototype.onRequestStop=function(e){var n=this;this.usePreviousGenerationResponses?this.requestStoppedResolve&&e&&(this.requestStoppedResolve(e),this.requestStoppedResolve=null):this.requestStoppedResolve&&(this.requestStoppedResolve(),this.requestStoppedResolve=null),!1!==this.options.disconnectOnStopRequest&&this.webSocket.disconnect(),this.handlers.onRequestStop&&t((function(){n.handlers.onRequestStop(e)}))},e.prototype.onRequestError=function(e){var n=this;this.requestErrorReject&&(this.requestErrorReject(e),this.requestErrorReject=null),this.handlers.onRequestError&&t((function(){n.handlers.onRequestError(e)}))},e.prototype.sendStart=function(t,e){var n=this.options,o=n.insightTypes,r=n.config,i=n.speaker,s=n.trackers,a=n.customVocabulary,c=n.disconnectOnStopRequest,u=n.disconnectOnStopRequestTimeout,p=n.noConnectionTimeout;if(r&&!r.speechRecognition){var h={};if(!r.sampleRateHertz)throw new Error("sampleRateHertz must be provided.");if("number"!=typeof r.sampleRateHertz)throw new Error("sampleRateHertz must be a valid number");Object.keys(r).forEach((function(t){switch(t){case"engine":case"encoding":case"sampleRateHertz":case"interimResults":h[t]=r[t],delete r[t]}})),Object.keys(h).length>0&&(r.speechRecognition=h)}l.default.debug("Send start request."),this.requestStartedResolve=t,this.onRequestError=e;var f={type:"start_request",insightTypes:o||[],config:r,speaker:i,trackers:s,customVocabulary:a};void 0!==c&&void 0!==u&&(f.disconnectOnStopRequest=c,f.disconnectOnStopRequestTimeout=u),void 0!==p&&(f.noConnectionTimeout=p),this.webSocket.send(JSON.stringify(f))},e.prototype.startRequest=function(){var t=this;return new Promise((function(e,n){if(t.backoff.reset(),t.webSocketStatus===d)t.sendStart(e,n);else{l.default.info("WebSocket is connecting. Retry will be attempted.",t.webSocketStatus);var o=function o(){return i(t,void 0,void 0,(function(){return s(this,(function(t){if(!this.requestStarted)if(l.default.info("Retry attempt: ",this.retryCount),this.webSocketStatus===d)this.sendStart(e,n);else try{this.backoff.run(o.bind(this),this)}catch(t){n("Too many retries attempted. Try again later.")}return this.retryCount+=1,[2]}))}))};try{setTimeout((function(){return i(t,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,o()];case 1:return t.sent(),[4,this.backoff.run(o.bind(this),this)];case 2:return t.sent(),[2]}}))}))}),500)}catch(t){n("Too many retries attempted. Try again later.")}}}))},e.prototype.stopRequest=function(){var t=this;return new Promise((function(e,n){if(t.webSocketStatus===d){if(!t.requestStarted)return l.default.warn("Invoked stopRequest() on an idle stream for id: ".concat(t.id)),void e();l.default.debug("Send stop request."),t.requestStoppedResolve=e,t.onRequestError=n,t.webSocket.send(JSON.stringify({type:"stop_request"}))}else l.default.warn("WebSocket connection is not connected. No stop request sent."),e();!1===t.options.disconnectOnStopRequest&&t._cleanForReconnect()}))},e.prototype._cleanForReconnect=function(){this.requestStarted=!1},e.prototype.sendAudio=function(t){this.requestStarted&&this.webSocket.send(t)},e.prototype.onSpeechDetected=function(e){var n=this;this.handlers.onSpeechDetected&&t((function(){n.handlers.onSpeechDetected(e)}))},e.prototype.onDataReceived=function(e){var n=this;this.handlers.onDataReceived&&t((function(){n.handlers.onDataReceived(e)}))},e.prototype.onMessageResponse=function(e){var n=this;this.handlers.onMessageResponse&&t((function(){n.handlers.onMessageResponse(e)}))},e.prototype.onInsightResponse=function(e){var n=this;this.handlers.onInsightResponse&&t((function(){n.handlers.onInsightResponse(e)}))},e.prototype.onTrackerResponse=function(e){var n=this;this.handlers.onTrackerResponse&&t((function(){n.handlers.onTrackerResponse(e)}))},e.prototype.onTopicResponse=function(e){var n=this;this.handlers.onTopicResponse&&t((function(){n.handlers.onTopicResponse(e)}))},e.isOffline=!1,e}();e.default=g}).call(this,n(109).setImmediate)},function(t,e,n){(function(t){var o=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(r.call(setTimeout,o,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,o,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(110),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(4))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var o,r,i,s,a,c=1,u={},p=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},o=function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,o=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):o=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),o=function(e){t.postMessage(s+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[c]=r,o(c),c++},h.clearImmediate=f}function f(t){delete u[t]}function d(t){if(p)setTimeout(d,0,t);else{var e=u[t];if(e){p=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{f(t),p=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(4),n(26))},function(t,e,n){"use strict";var o=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))},r=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var s=i(n(64)),a=i(n(24)),c=i(n(8)),u=i(n(1)),p=n(65),l="connected",h="error",f="closed",d="connecting",y=function(){function t(t,e){this.connectionOptions=t.options;var n=this.connectionOptions.handlers.onMessage,o=t.isStreaming;if(!n||"function"!=typeof n)throw new Error("onMessage function is required for establishing connection with Session-Manger Websocket.");var r=t.basePath||c.default.basePath;r=r.replace(/^http/,"ws");var i="session";o&&(i="v1");var a="".concat(r,"/").concat(i,"/subscribe");if(!e)throw new Error("oauth2 is required for Session-Manager API.");var u=t.id;if(!u)throw new Error("id is required for establishing connection.");this.backoff=new s.default,this.oauth2=e,this.id=u,this.onMessage=n,this.webSocketUrl="".concat(a,"/").concat(this.id),this.options=t,this.referenceIds=[(0,p.v4)()],this.connect=this.connect.bind(this),this._connect=this._connect.bind(this),this.reConnect=this.reConnect.bind(this),this.onConnectWebSocket=this.onConnectWebSocket.bind(this),this.onErrorWebSocket=this.onErrorWebSocket.bind(this),this.onMessageWebSocket=this.onMessageWebSocket.bind(this),this.onCloseWebSocket=this.onCloseWebSocket.bind(this),this.disconnect=this.disconnect.bind(this),this.onForceClose=this.onForceClose.bind(this)}return t.setNetworkConnectivityDispatcher=function(e){t.networkConnectivityDispatcher=e},t.prototype.reConnect=function(e){return void 0===e&&(e=!1),o(this,void 0,void 0,(function(){var n,o,i,s=this;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.backoff.reset(),e&&t.networkConnectivityDispatcher&&(u.default.info("Rechecking network connectivity"),t.isOffline=!0,t.networkConnectivityDispatcher.forceCheckNetworkConnectivity()),t.isOffline?[3,2]:(u.default.info("Reconnecting..."),[4,this.oauth2.refreshAuthToken()]);case 1:return r.sent(),this.referenceIds.push((0,p.v4)()),this.connect(this.onConnectCallback),[3,3];case 2:u.default.info("Not online. Reconnect delayed."),n=900,o=setInterval((function(){if(t.isOffline)if(n>0)n-=1;else{clearInterval(o);var e="Max attempts to reconnect exceeded! Not attempting reconnection";u.default.error(e),s.connectionOptions.handlers.onReconnectFail&&"function"==typeof s.connectionOptions.handlers.onReconnectFail&&s.connectionOptions.handlers.onReconnectFail(new Error(e))}else clearInterval(o),s.reConnect()}),2e3),r.label=3;case 3:return[3,5];case 4:return i=r.sent(),u.default.error("Exception caught while reconnecting: ".concat(i&&i.message),i),[3,5];case 5:return[2]}}))}))},t.prototype.onForceClose=function(t){this.webSocketStatus=f,u.default.info("Force closed WebSocket due to network issues -- Attempting to reconnect"),this.connectionOptions.reconnectOnError?this.referenceIds.includes(t)?(u.default.debug("Attempting reconnect after error."),this.referenceIds.splice(this.referenceIds.indexOf(t),1),this.reConnect(!0)):u.default.debug("Reconnection already handled for socket with connectionId: ".concat(this.id)):u.default.debug("Reconnection not enabled for socket with connectionId: ".concat(this.id))},t.prototype.onCloseWebSocket=function(t){var e=this;return function(n){e.webSocketStatus=f,u.default.info("WebSocket connection closed",n),!e.connectionOptions.reconnectOnError||!1!==n.wasClean&&1005!==n.code&&3006!==n.code?(u.default.debug((new Date).toISOString(),"WebSocket Closed."),e.connectionOptions.handlers.onClose&&"function"==typeof e.connectionOptions.handlers.onClose&&e.connectionOptions.handlers.onClose()):e.referenceIds.includes(t)?(u.default.debug("Attempting reconnect after error."),e.referenceIds.splice(e.referenceIds.indexOf(t),1),e.reConnect(n.handshakeFailed)):u.default.debug("Reconnection already handled for socket with connectionId: ".concat(e.id))}},t.prototype.onConnectWebSocket=function(){u.default.debug("WebSocket Connected."),this.webSocketStatus=l,this.onConnectCallback&&"function"==typeof this.onConnectCallback&&(this.onConnectCallback(),this.onConnectCallback=null),this.connectionOptions.handlers.onSubscribe&&"function"==typeof this.connectionOptions.handlers.onSubscribe&&this.connectionOptions.handlers.onSubscribe()},t.prototype.onErrorWebSocket=function(t){this.webSocketStatus=h,u.default.error(t)},t.prototype.onMessageWebSocket=function(t){if(t){var e=JSON.parse(t);u.default.debug("Websocket Message: ",{data:e}),this.onMessage(e)}},t.prototype._connect=function(t,e){var n=this;return new Promise((function(o){n.webSocketStatus!==l?(u.default.debug("WebSocket Connecting on: ".concat(n.webSocketUrl)),n.webSocketStatus!==d&&(n.webSocketStatus=d),u.default.debug("connectionOptions",n.connectionOptions),t&&(n.onConnectCallback=t),n.webSocket=new a.default({url:n.webSocketUrl,accessToken:n.oauth2.activeToken,onError:n.onErrorWebSocket,onClose:n.onCloseWebSocket(e),onMessage:n.onMessageWebSocket,onConnect:n.onConnectWebSocket,onConnectSuccess:o,onForceClose:n.onForceClose,reconnectOnError:n.connectionOptions.reconnectOnError,referenceId:e})):n.webSocketStatus===l&&o()}))},t.prototype.connect=function(t){return o(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.backoff.run(this._connect,this,[t,this.referenceIds[this.referenceIds.length-1]],!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),u.default.error("Exception caught while retrying to connect: ".concat(e&&e.message),e),[3,3];case 3:return[2]}}))}))},t.prototype.disconnect=function(){u.default.debug("Disconnecting WebSocket Connection"),this.webSocket.disconnect()},t.isOffline=!1,t}();e.default=y},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t){if(void 0===t&&(t={}),!t)throw new Error("StopProcessing configuration required");this._timestamp=t.timestamp,this._topic=t.topic,this._type="stopped"}return t.topics=function(){return{speaker:"speaker"}},t.types=function(){return{stopped:"stopped"}},Object.defineProperty(t.prototype,"timestamp",{get:function(){return this._timestamp},set:function(t){this._timestamp=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topic",{get:function(){return this._topic},set:function(t){this._topic=t},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{topic:this._topic,type:this._type,timestamp:this._timestamp}},t}();e.default=o},function(t,e,n){"use strict";(function(t){var o=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))},r=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var s=n(7),a=i(n(8)),c=i(n(61)),u=i(n(1)),p=function(){function e(t){void 0===t&&(t={}),this.apiClient=new s.ApiClient;var e=t.authBasePath||a.default.authBasePath||t.basePath||a.default.basePath;this.setBasePath(e),this.appId=null,this.appSecret=null,this.activeToken=null,this.updatedOn=null,this.expiresOn=null,this.expiresIn=null,t.hasOwnProperty("automaticallyRefreshToken")?this.automaticallyRefreshToken=t.automaticallyRefreshToken:this.automaticallyRefreshToken=!0,this.refreshTimeBeforeExpiry=t.refreshTimeBeforeExpiry||a.default.refreshTimeBeforeExpiry||300,this.refreshOn=null,this.refreshTimeoutRef=null,this.init=this.init.bind(this),this.processTokenResult=this.processTokenResult.bind(this),this.validateToken=this.validateToken.bind(this),this.refreshAuthToken=this.refreshAuthToken.bind(this),this.setBasePath=this.setBasePath.bind(this)}return e.prototype.setBasePath=function(t){this.apiClient.basePath=t,this.authenticationApi=new s.AuthenticationApi(this.apiClient)},e.prototype.getApiClient=function(){return this.apiClient},e.prototype.processTokenResult=function(t){var e=this,n=t.accessToken,o=t.expiresIn;if(this.activeToken=n,u.default.trace("Token received."),this.apiClient.authentications.jwt.apiKey=this.activeToken,this.expiresIn=o,u.default.trace("Token will expire in seconds: ",this.expiresIn),this.updatedOn=new Date,u.default.trace("Token updated on: ",this.updatedOn),this.expiresOn=new Date(this.updatedOn.getTime()+1e3*this.expiresIn),u.default.trace("Token will expire on : ",this.expiresOn),this.automaticallyRefreshToken){this.refreshOn=new Date(this.expiresOn.getTime()-1e3*this.refreshTimeBeforeExpiry),u.default.trace("Token will be refreshed on: ",this.refreshOn);var r=1e3*(this.expiresIn-this.refreshTimeBeforeExpiry);u.default.trace("Refresh is scheduled in millis: ",r),r<0&&(r=1e3*this.expiresIn),this.refreshTimeoutRef&&clearTimeout(this.refreshTimeoutRef),this.refreshTimeoutRef=setTimeout((function(){e.init(e.appId,e.appSecret).then((function(){u.default.trace("Token refreshed")})).catch((function(t){u.default.error(t)}))}),r)}},e.prototype.refreshAuthToken=function(){return this.validateToken(this.activeToken)},e.prototype.validateToken=function(e){var n=this;return new Promise((function(i,s){return o(n,void 0,void 0,(function(){var n,o,a,c,p,l;return r(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,12,,13]),!e)return[3,10];if(!(n=JSON.parse(t.from(e.split(".")[1],"base64").toString())).exp)return[3,8];if(!((o=Math.floor(n.exp-Date.now()/1e3))<=60))return[3,7];if(!this.appId||!this.appSecret)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.init(this.appId,this.appSecret)];case 2:return a=r.sent(),this.processTokenResult(a),i(a),[3,4];case 3:return c=r.sent(),u.default.error("Exception caught while refreshing token: ".concat(c&&c.message)),s({message:"The authentication token failed with exception: ".concat(c&&c.message)}),[3,4];case 4:return[2];case 5:s({message:"Provided token has expired"}),r.label=6;case 6:return[2];case 7:return p={accessToken:e,expiresIn:o},this.processTokenResult(p),i(p),[3,9];case 8:s({message:"Provided token is invalid"}),r.label=9;case 9:return[3,11];case 10:s({message:"Provided token was empty, undefined or null"}),r.label=11;case 11:return[3,13];case 12:return l=r.sent(),u.default.warn("Token regeneration failed with error: ".concat(l&&l.message)),i(),[3,13];case 13:return[2]}}))}))}))},e.prototype.init=function(t,e,n){var o=this;if(t||(t=this.appId),e||(e=this.appSecret),n||(n=this.activeToken),!t&&!n)throw new Error("appId is required.");if(!e&&!n)throw new Error("appSecret is required.");if(!(t&&e||n))throw new Error("token or appId/appSecret pair is required");return this.appId=t,this.appSecret=e,n?this.validateToken(n):new Promise((function(n,r){u.default.trace("Initializing app with appId and appSecret",t,e);try{var i=s.Grant.constructFromObject({type:"application",appId:t,appSecret:e});o.authenticationApi.generateToken(i,(function(t,e){if(t)if(t.status&&401===t.status){var i="Combination of appId and appSecret is not valid.";u.default.info(i),r({message:i,internalError:t})}else r(c.default.getError(t));else if(e){o.processTokenResult(e);var s=e.accessToken,a=e.expiresIn;n({accessToken:s,expiresIn:a})}else r(c.default.getError())}))}catch(t){r(c.default.getError(t))}}))},e}();e.default=p}).call(this,n(27).Buffer)},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t){if(void 0===t&&(t={}),!t)throw new Error("SpeakerEvent configuration is required.");if(!t.type)throw new Error("'type' is required parameter for speaker event");if(!t.user)throw new Error("'user' is required parameter for speaker event");if(!t.user.userId)throw new Error("'userId' is required parameter in 'user' for speaker event");this.topic="speaker",this._type=t.type,this._user=t.user,this._timestamp=t.timestamp?new Date(t.timestamp).toISOString():t._timestamp?new Date(t._timestamp).toISOString():(new Date).toISOString()}return Object.defineProperty(t,"types",{get:function(){return{startedSpeaking:"started_speaking",stoppedSpeaking:"stopped_speaking",joined:"joined",left:"left"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this._user},set:function(t){this._user=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timestamp",{get:function(){return this._timestamp},set:function(t){this._timestamp=t},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{topic:this.topic,type:this._type,user:this._user,timestamp:this._timestamp}},t}();e.default=o}]);